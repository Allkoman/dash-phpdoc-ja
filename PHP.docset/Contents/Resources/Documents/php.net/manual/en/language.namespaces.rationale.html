<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>名前空間の概要</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.namespaces.html">名前空間</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.namespaces.definition.html">名前空間の定義</a></div>
 <div class="up"><a href="language.namespaces.html">名前空間</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="language.namespaces.rationale" class="sect1">
  <h2 class="title">名前空間の概要</h2>
  <p class="verinfo">(PHP 5 &gt;= 5.3.0, PHP 7)</p>
  <p class="simpara">
   名前空間とは何でしょう? 広義の「名前空間」とは、項目をカプセル化するもののことです。
   これは多くの場面で見られる抽象概念です。
   たとえば、たいていの OS はディレクトリでファイルをグループ化します。
   この場合、ディレクトリがその中のファイルの名前空間として機能しています。
   具体的に言うと、<em>foo.txt</em> というファイルは
   <em>/home/greg</em> と <em>/home/other</em>
   の両方に存在することが可能ですが、それらふたつの
   <em>foo.txt</em> を同じディレクトリに配置することはできません。
   さらに、<em>/home/greg</em> ディレクトリの外から
   <em>foo.txt</em> にアクセスするには、ディレクトリ名をファイル名の前につけて
   <em>/home/greg/foo.txt</em> としなければなりません。
   プログラミングの世界における名前空間も、この延長線上にあります。
  </p>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>バージョン</th>
       <th>説明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>7.0.0</td>
       <td>
        use 宣言をグループ化できるようになりました。
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
  <p class="simpara">
   PHP の世界では、名前空間は次のふたつの問題を解決するための手段として用意されています。
   ライブラリやアプリケーションの作者が、
   クラスや関数といった再利用可能なコード部品を作ろうとするときにこれらの問題にぶちあたることになります。
  </p>
  <p class="para">
   <ol type="1">
    <li class="listitem">
     <span class="simpara">
      あなたが作成したコードと PHP の組み込みのクラス/関数/定数
      あるいはサードパーティのクラス/関数/定数の名前が衝突する
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      最初の問題を解決するためには、Extra_Long_Names のような長い名前をつけなければならない
     </span>
    </li>
   </ol>
  </p>
  <p class="simpara">
   PHP の名前空間は、関連するクラスやインターフェイス、関数、そして定数をひとまとめにして扱うものです。
   PHP の名前空間構文の例を見てみましょう。
  </p>
  <div class="example" id="example-242">
   <p><strong>例1 名前空間構文の例</strong></p>
   <div class="example-contents">
   <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">my</span><span style="color: #007700">\</span><span style="color: #0000BB">name</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;"名前空間の定義"&nbsp;を参照ください<br /><br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MyClass&nbsp;</span><span style="color: #007700">{}<br />function&nbsp;</span><span style="color: #0000BB">myfunction</span><span style="color: #007700">()&nbsp;{}<br />const&nbsp;</span><span style="color: #0000BB">MYCONST&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MyClass</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;\</span><span style="color: #0000BB">my</span><span style="color: #007700">\</span><span style="color: #0000BB">name</span><span style="color: #007700">\</span><span style="color: #0000BB">MyClass</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;"グローバル空間"&nbsp;を参照ください<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #DD0000">'hi'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;"名前空間の使用法:&nbsp;グローバル関数/定数への<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;移行"&nbsp;を参照ください<br /><br /></span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;namespace\</span><span style="color: #0000BB">MYCONST</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;"namespace&nbsp;演算子および&nbsp;__NAMESPACE__&nbsp;定数"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;を参照ください<br /></span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">__NAMESPACE__&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'\MYCONST'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">constant</span><span style="color: #007700">(</span><span style="color: #0000BB">$d</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;"名前空間および動的言語機能"&nbsp;を参照ください<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <blockquote class="note"><p><strong class="note">注意</strong>: 
   <p class="para">
    名前空間の名前として <em>PHP</em> や <em>php</em> は使えません。これらで始まる名前
    (<em>PHP\Classes</em> など) も同様です。
    これらの名前は言語の内部で使うために予約されており、ユーザーのコードで使うことはできません。
   </p>
  </p></blockquote>
 </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="120791""></a>
  <div class="note">
   <strong class="user">vlad dot 32418 at gmail dot com</strong>
   <a href="#120791" class="date">12-Mar-2017 05:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was not obvious for me...<br />
You can't resolve variable names conflict via namespaces.<br />
<br />
somefile.php:<br />
<br />
namespace myspace {<br />
&nbsp;&nbsp; $line = "some text";<br />
&nbsp;&nbsp; function someFunc() { }<br />
}<br />
<br />
If you attach this file:<br />
<br />
require_once("somefile.php");<br />
<br />
You should call the function this way:<br />
<br />
myspace\someFunc();<br />
<br />
But echo $line; would give you "some text".<br />
(echo myspace\$line; would give you an error).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117849""></a>
  <div class="note">
   <strong class="user">sonkengmaldini at gmail dot com</strong>
   <a href="#117849" class="date">20-Aug-2015 05:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be aware that using&nbsp; character set UTF-8 with namespace will output a fatal error telling you that 'Namespace declaration statement has to be the very first statement in the script ' instead of that character use the UTF-8 (sans BOM) !<br />
this will display the previous message <br />
<span class="default">&lt;?php<br />
</span><span class="keyword">namespace </span><span class="default">myNameSpace</span><span class="keyword">;</span><span class="comment">//fatal error! with UTF-8 character set <br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116280""></a>
  <div class="note">
   <strong class="user">pierstoval at gmail dot com</strong>
   <a href="#116280" class="date">05-Dec-2014 07:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To people coming here by searching about namespaces, know that a consortium has studied about best practices in PHP, in order to allow developers to have common coding standards.<br />
&nbsp;<br />
These best practices are called "PHP Standard Recommendations" , also known as PSR.<br />
&nbsp;<br />
They are visible on this link : <a href="http://www.php-fig.org/psr" rel="nofollow" target="_blank">http://www.php-fig.org/psr</a><br />
&nbsp;<br />
Actually there are 5 coding standards categories : <br />
PSR-0 : Autoloading Standard , which goal is to make the use of Namespaces easier, in order to convert a namespace into a file path.<br />
PSR-1 : Basic Coding Standard , basically, standards :) <br />
PSR-2 : Coding Style Guide, where to put braces, how to write a class, etc.<br />
PSR-3 : Logger Interface , how to write a standard logger<br />
PSR-4 : Improved Autoloading , to resolve more Namespaces into paths.<br />
&nbsp;<br />
The ones I want to point are PSR-0 and PSR-4 : they use namespaces to resolve a FQCN (Fully qualified class name = full namespace + class name) into a file path. <br />
Basic example, you have this directory structure :<br />
./src/Pierstoval/Tools/MyTool.php<br />
<br />
The namespacing PSR-0 or PSR-4 standard tells that you can transform this path into a FQCN.<br />
Read the principles of autoload if you need to know what it means, because it's almost mandatory ;) .<br />
<br />
Structure :<br />
{path}/autoloader.php<br />
{path}/index.php<br />
{path}/src/Pierstoval/Tools/MyTool.php<br />
<br />
Files :<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// {path}/index.php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">include </span><span class="string">'autoloader.php'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tool </span><span class="keyword">= new </span><span class="default">Pierstoval</span><span class="keyword">/</span><span class="default">Tools</span><span class="keyword">/</span><span class="default">MyTool</span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span><br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// {path}/src/Pierstoval/Tools/MyTool.php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">namespace </span><span class="default">Pierstoval</span><span class="keyword">\</span><span class="default">Tools</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; class </span><span class="default">MyTool </span><span class="keyword">{}<br />
</span><span class="default">?&gt;<br />
</span><br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// {path}/autoloader.php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">loadClass</span><span class="keyword">(</span><span class="default">$className</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$fileName </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$namespace </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Sets the include path as the "src" directory<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$includePath </span><span class="keyword">= </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">).</span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">.</span><span class="string">'src'</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">false </span><span class="keyword">!== (</span><span class="default">$lastNsPos </span><span class="keyword">= </span><span class="default">strripos</span><span class="keyword">(</span><span class="default">$className</span><span class="keyword">, </span><span class="string">'\\'</span><span class="keyword">))) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$namespace </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$className</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$lastNsPos</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$className </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$className</span><span class="keyword">, </span><span class="default">$lastNsPos </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$fileName </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'\\'</span><span class="keyword">, </span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">, </span><span class="default">$namespace</span><span class="keyword">) . </span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$fileName </span><span class="keyword">.= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'_'</span><span class="keyword">, </span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">, </span><span class="default">$className</span><span class="keyword">) . </span><span class="string">'.php'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$fullFileName </span><span class="keyword">= </span><span class="default">$includePath </span><span class="keyword">. </span><span class="default">DIRECTORY_SEPARATOR </span><span class="keyword">. </span><span class="default">$fileName</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$fullFileName</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; require </span><span class="default">$fullFileName</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'Class "'</span><span class="keyword">.</span><span class="default">$className</span><span class="keyword">.</span><span class="string">'" does not exist.'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">spl_autoload_register</span><span class="keyword">(</span><span class="string">'loadClass'</span><span class="keyword">); </span><span class="comment">// Registers the autoloader<br />
</span><span class="default">?&gt;<br />
</span> <br />
A standardized autoloader will get the class you want to instanciate (MyTool) and get the FQCN, transform it into a file path, and check if the file exists. If it does, it will <span class="default">&lt;?php </span><span class="keyword">include(); </span><span class="default">?&gt;</span> it, and if you wrote your class correctly, the class will be available within its correct namespace.<br />
Then, if you have the following code :<br />
<span class="default">&lt;?php $tool </span><span class="keyword">= new </span><span class="default">Pierstoval</span><span class="keyword">/</span><span class="default">Tools</span><span class="keyword">/</span><span class="default">MyTool</span><span class="keyword">(); </span><span class="default">?&gt;<br />
</span>The autoloader will transform the FQCN into this path :<br />
{path}/src/Pierstoval/Tools/MyTool.php<br />
<br />
This might be the best practices ever in PHP framework developments, such as Symfony or others.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113597""></a>
  <div class="note">
   <strong class="user">php dot net at e-z dot name</strong>
   <a href="#113597" class="date">03-Nov-2013 02:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
php namespaces are case-insensitive:<br />
<br />
file1.php:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">namespace </span><span class="default">foo</span><span class="keyword">;<br />
<br />
function </span><span class="default">bar</span><span class="keyword">()<br />
{<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'from bar'</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
file2.php:<br />
<span class="default">&lt;?php<br />
<br />
fOo</span><span class="keyword">\</span><span class="default">bar</span><span class="keyword">() </span><span class="comment">// output: from bar<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104196""></a>
  <div class="note">
   <strong class="user">Dmitry Snytkine</strong>
   <a href="#104196" class="date">31-May-2011 03:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just a note: namespace (even nested or sub-namespace) cannot be just a number, it must start with a letter.<br />
For example, lets say you want to use namespace for versioning of your packages or versioning of your API:<br />
<br />
namespace Mynamespace\1;&nbsp; // Illegal<br />
Instead use this:<br />
namespace Mynamespace\v1; // OK</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102662""></a>
  <div class="note">
   <strong class="user">SteveWa</strong>
   <a href="#102662" class="date">27-Feb-2011 05:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Thought this might help other newbies like me...<br />
<br />
Name collisions means: <br />
you create a function named db_connect, and somebody elses code that you use in your file (i.e. an include) has the same function with the same name.<br />
<br />
To get around that problem, you rename your function SteveWa_db_connect&nbsp; which makes your code longer and harder to read.<br />
<br />
Now you can use namespaces to keep your function name separate from anyone else's function name, and you won't have to make extra_long_named functions to get around the name collision problem.<br />
<br />
So a namespace is like a pointer to a file path where you can find the source of the function you are working with</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.namespaces.html">名前空間</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.namespaces.definition.html">名前空間の定義</a></div>
 <div class="up"><a href="language.namespaces.html">名前空間</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
