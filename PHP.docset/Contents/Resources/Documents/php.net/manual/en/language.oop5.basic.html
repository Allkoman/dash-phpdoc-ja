<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>クラスの基礎</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="oop5.intro.html">はじめに</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.oop5.properties.html">プロパティ</a></div>
 <div class="up"><a href="language.oop5.html">クラスとオブジェクト</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="language.oop5.basic" class="sect1">
 <h2 class="title">クラスの基礎</h2>

 <div class="sect2" id="language.oop5.basic.class">
  <h3 class="title">class</h3>
  <p class="para">
   各クラスの定義は、<em>class</em>キーワードで始まり、クラス名が続きます。
   そしてその後に波括弧のペアが続き、
   その中にはクラスのプロパティとメソッドの定義を記述します。
   </p>
   <p class="para">
    クラス名には、PHP の<a href="reserved.html" class="link">予約語</a>
    以外でラベルとして有効なあらゆる名前を使用することができます。
    有効なクラス名は、先頭が文字あるいはアンダースコアで始まり、
    その後に任意の数の文字/数字/アンダースコアが続くものです。
    正規表現で表すと、
    <em>^[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*$</em>
    のようになります。
   </p>
   <p class="para">
    クラスの中には、
    <a href="language.oop5.constants.html" class="link">定数</a> や
    <a href="language.oop5.properties.html" class="link">変数</a>
    (&quot;プロパティ&quot; といいます) そして関数 (&quot;メソッド&quot; といいます)
    を含めることができます。
   </p>
   <div class="example" id="example-170">
    <p><strong>例1 簡単なクラス定義</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">SimpleClass<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;プロパティの宣言<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'a&nbsp;default&nbsp;value'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;メソッドの宣言<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">displayVar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">var</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <p class="para">
    メソッドがオブジェクトコンテキストからコールされる場合は、
    疑似変数 <var class="varname"><var class="varname">$this</var></var> が利用可能です。
    <var class="varname"><var class="varname">$this</var></var> は、呼び出し元オブジェクト
    (通常は、メソッドが属するオブジェクトですが、
    メソッドが第二のオブジェクトのオブジェクトの
    コンテキストから <a href="language.oop5.static.html" class="link">スタティックに</a>
    コールされる場合には、別のオブジェクトとなる場合もあります)
    への参照です。
    PHP 7.0.0 以降は、スタティックではないメソッドを非互換のコンテキストでスタティックに呼び出すと、
    そのメソッド内では $this が未定義の状態になります。
    スタティックではないメソッドの、非互換なコンテキストにおけるスタティック呼び出しは PHP 5.6.0 で非推奨になりました。
    PHP 7.0.0 ではさらに、コンテキストの互換・非互換にかかわらず、
    スタティックではないメソッドのスタティック呼び出し全般が非推奨となりました。
    PHP 5.6.0 より前のバージョンでも、これらは既に strict 通知が出ていたものです。
   </p>
   <p class="para">
    <div class="example" id="example-171">
     <p><strong>例2 <var class="varname"><var class="varname">$this</var></var> 疑似変数の例</strong></p>
     <div class="example-contents"><p>
      この例は、error_reporting が無効になっていることを前提としています。
      これが有効になっている場合、PHP のバージョンによって deprecated や strict の通知が出るでしょう。
     </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">A<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'$this&nbsp;is&nbsp;defined&nbsp;('</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">")\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"\$this&nbsp;is&nbsp;not&nbsp;defined.\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">B<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">::</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">A</span><span style="color: #007700">::</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bar</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">B</span><span style="color: #007700">::</span><span style="color: #0000BB">bar</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

     <div class="example-contents"><p>上の例の PHP 5 での出力は、このようになります。</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
$this is defined (A)
$this is not defined.
$this is defined (B)
$this is not defined.
</pre></div>
    </div>
     <div class="example-contents"><p>上の例の PHP 7 での出力は、このようになります。</p></div>
     <div class="example-contents screen">
<div class="cdata"><pre>
$this is defined (A)
$this is not defined.
$this is not defined.
$this is not defined.
</pre></div>
     </div>
    </div>
  </p>
 </div>

 <div class="sect2" id="language.oop5.basic.new">
  <h3 class="title">new</h3>
  <p class="para">
   あるクラスのインスタンスを生成するには、<em>new</em>
   キーワードを使わなければなりません。エラー時に
   <a href="language.exceptions.html" class="link">例外</a>をスローするような
   <a href="language.oop5.decon.html" class="link">コンストラクタ</a>を定義していない限り、
   オブジェクトが常に生成されます。
   クラスは、そのインスタンスを作成する前に定義しなければなりません
   (これが必須となる場合もあります)。
  </p>
   <p class="para">
    クラス名を含む文字列を <em>new</em> で指定すると、
    そのクラスのインスタンスを作成します。クラスが名前空間に属している場合は、
    完全修飾名を指定しなければなりません。
   </p>
  <div class="example" id="example-172">
   <p><strong>例3 インスタンスを作成する</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$instance&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SimpleClass</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;変数を使うこともできます<br /></span><span style="color: #0000BB">$className&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'SimpleClass'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$instance&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">$className</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;new&nbsp;SimpleClass()<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
   <p class="para">
    クラスのコンテキストにおいては、
    <em>new self</em> や <em>new parent</em>
    のようにして新しいオブジェクトを作成することができます。
   </p>
  <p class="para">
   作成済みのクラスのインスタンスを新たな変数に代入する場合、新しい変数は、
   代入されたオブジェクトと同じインスタンスにアクセスします。
   この動作は、インスタンスを関数に渡す場合も同様です。
   作成済みのオブジェクトのコピーは、その
   <a href="language.oop5.cloning.html" class="link">クローンを作成</a>
   することにより作成可能です。
  </p>
  <div class="example" id="example-173">
   <p><strong>例4 オブジェクトの代入</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$instance&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SimpleClass</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">$assigned&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;&nbsp;</span><span style="color: #0000BB">$instance</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$reference&nbsp;&nbsp;</span><span style="color: #007700">=&amp;&nbsp;</span><span style="color: #0000BB">$instance</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$instance</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">var&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'$assigned&nbsp;will&nbsp;have&nbsp;this&nbsp;value'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$instance&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;$instance&nbsp;と&nbsp;$reference&nbsp;は&nbsp;null&nbsp;になります<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$instance</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$reference</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$assigned</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
NULL
NULL
object(SimpleClass)#1 (1) {
   [&quot;var&quot;]=&gt;
     string(30) &quot;$assigned will have this value&quot;
}
</pre></div>
    </div>
   </div>
   <p class="para">
    PHP 5.3.0 以降では、オブジェクトのインスタンスを作成する別の方法が新たに導入されました。
   </p>
   <div class="example" id="example-174">
    <p><strong>例5 新しいオブジェクトの作成</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Test<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">getNew</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;static;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">Child&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Test<br /></span><span style="color: #007700">{}<br /><br /></span><span style="color: #0000BB">$obj1&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Test</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$obj2&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">$obj1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$obj1&nbsp;</span><span style="color: #007700">!==&nbsp;</span><span style="color: #0000BB">$obj2</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$obj3&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Test</span><span style="color: #007700">::</span><span style="color: #0000BB">getNew</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$obj3&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">Test</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$obj4&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Child</span><span style="color: #007700">::</span><span style="color: #0000BB">getNew</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$obj4&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">Child</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
bool(true)
bool(true)
bool(true)
</pre></div>
    </div>
   </div>

   <p class="para">
    PHP 5.4.0 以降では、新しく作成したオブジェクトのメンバーに、作成したその式の中でもアクセスできるようになりました。
   </p>
   <div class="example" id="example-175">
    <p><strong>例6 新しく作成したオブジェクトのメンバーへのアクセス</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;(new&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">())-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>上の例の出力は、
たとえば以下のようになります。</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
2016
</pre></div>
    </div>
   </div>
  </div>
  
  <div class="sect2" id="language.oop5.basic.properties-methods">
   <h3 class="title">プロパティとメソッド</h3>
   <p class="para">
    クラスのプロパティとメソッドは、それぞれ別の &quot;名前空間&quot; に存在するので、
    同じ名前のプロパティとメソッドを共存させることもできます。
    プロパティを参照する場合もメソッドを参照する場合も書きかたは同じです。
    それがプロパティへのアクセスなのかメソッドの呼び出しなのかは、そのコンテキストによって決まります。
    つまり、変数にアクセスしようとしているのか関数を呼び出そうとしているのかの違いです。
   </p>
   <div class="example" id="example-176">
    <p><strong>例7 プロパティへのアクセスとメソッドの呼び出し</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
class&nbsp;Foo<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;$bar&nbsp;=&nbsp;'property';<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;bar()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;'method';<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />$obj&nbsp;=&nbsp;new&nbsp;Foo();<br />echo&nbsp;$obj-&gt;bar,&nbsp;PHP_EOL,&nbsp;$obj-&gt;bar(),&nbsp;PHP_EOL;</span>
</code></div>
    </div>

    <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
property
method
</pre></div>
    </div>
   </div>
   <p class="para">
    これはつまり、プロパティに <a href="functions.anonymous.html" class="link">無名関数</a>
    を代入した場合に、その関数は直接呼び出せないということです。
    その場合は、たとえば事前にプロパティを変数に代入しておく必要があります。
    PHP 7.0.0 からは、括弧で囲むことでプロパティを直接呼び出せるようになりました。
   </p>
   <div class="example" id="example-177">
    <p><strong>例8 プロパティに格納した無名関数の呼び出し</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
class&nbsp;Foo<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;$bar;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;__construct()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;bar&nbsp;=&nbsp;function()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;42;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />$obj&nbsp;=&nbsp;new&nbsp;Foo();<br /><br />//&nbsp;PHP&nbsp;5.3.0&nbsp;以降<br />$func&nbsp;=&nbsp;$obj-&gt;bar;<br />echo&nbsp;$func(),&nbsp;PHP_EOL;<br /><br />//&nbsp;PHP&nbsp;7.0.0&nbsp;以降では、このようにすることもできます<br />echo&nbsp;($obj-&gt;bar)(),&nbsp;PHP_EOL;</span>
</code></div>
    </div>

    <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
42
</pre></div>
    </div>
   </div>
  </div>

 <div class="sect2" id="language.oop5.basic.extends">
  <h3 class="title">extends</h3>
  <p class="para">
   クラスは、宣言部に <em>extends</em> キーワードを含めることで、他のクラスのメソッドと
   プロパティを継承することができます。多重継承を行うことはできず、クラスが継承できるベース
   クラスは一つだけです。
  </p>
  <p class="para">
    継承されたメソッドやプロパティをオーバーライドするには、
    親クラスで定義されているのと同じ名前でそれを再宣言します。
    しかし、親クラスでそのメソッドが
    <a href="language.oop5.final.html" class="link">final</a>
    定義されている場合はオーバーライドできません。
    オーバーライドされた元のメソッドや静的プロパティにアクセスするには、
    <a href="language.oop5.paamayim-nekudotayim.html" class="link">parent::</a>
    で参照します。
  </p>
   <p class="para">
    メソッドをオーバーライドするときには、パラメータのシグネチャも同じでなければなりません。
    もし違っていれば、PHP は <strong><code>E_STRICT</code></strong>
    レベルのエラーとなります。ただしコンストラクタは例外で、
    異なるパラメータでオーバーライドすることができます。
   </p>
  <div class="example" id="example-178">
   <p><strong>例9 簡単なクラスの継承</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">ExtendClass&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">SimpleClass<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;親クラスのメソッドを再定義<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">displayVar</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Extending&nbsp;class\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">displayVar</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$extended&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ExtendClass</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$extended</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">displayVar</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
Extending class
a default value
</pre></div>
   </div>
  </div>
 </div>

  <div class="sect2" id="language.oop5.basic.class.class">
   <h3 class="title">::class</h3>

   <p class="para">
    PHP 5.5 以降では、<em>class</em> キーワードでクラス名の解決ができるようになりました。
    <em>ClassName</em> クラスの完全修飾名を文字列で取得するには、
    <em>ClassName::class</em> とします。
    これは、<a href="language.namespaces.html" class="link">
    名前空間</a>つきのクラスと組み合わせると特に便利です。
   </p>
   <p class="para">
    <div class="example" id="example-179">
     <p><strong>例10 クラス名の解決</strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">NS&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;</span><span style="color: #0000BB">ClassName&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">ClassName</span><span style="color: #007700">::class;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

     <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
     <div class="example-contents screen">
<div class="cdata"><pre>
NS\ClassName
</pre></div>
     </div>
    </div>
   </p>
   <blockquote class="note"><p><strong class="note">注意</strong>: 
    <p class="para">
     <em>::class</em> によるクラス名の解決は、コンパイル時の変換です。
     つまり、クラス名を作るタイミングでは、まだオートロードが行われていないということです。
     結果的に、クラスがまだ存在しない時点でクラス名が展開されることになります。
     この場合にはエラーは発生しません。
    </p>
   </p></blockquote>
  </div>
 </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="121518""></a>
  <div class="note">
   <strong class="user">Hayley Watson</strong>
   <a href="#121518" class="date">13-Aug-2017 03:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Unless the function's parameter is marked as pass by reference using "&amp;", arguments to it are passed by value. This goes for objects same as everything else. The fact is every object has its own unique identity, and the "value" of an object IS the object itself. And not, for example, anything to do with the values of any of its properties: modifying an object's properties doesn't change the object's identity (and hence its value) any more than your identity changes when you take your socks off. So when an object is passed (by value) to a function, and its properties are modified, THAT object's properties get modified.<br />
<br />
The "&amp;" modifier only matters if a new value is assigned to the parameter variable. If the modifier is used, then whatever was passed in the parameter is also replaced, if it's not, then it isn't. Again, this behaviour is the same whether it's an object or something else.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121429""></a>
  <div class="note">
   <strong class="user">nagabhushan1995 at gmail dot com</strong>
   <a href="#121429" class="date">25-Jul-2017 06:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Object handles in PHP are kind of Java References (not C++ references : references are aliases in C++).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121428""></a>
  <div class="note">
   <strong class="user">nagabhushan1995 at gmail dot com</strong>
   <a href="#121428" class="date">25-Jul-2017 06:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Object handles in PHP are kind of Java References (not C++ references : references are aliases in C++).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121416""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#121416" class="date">22-Jul-2017 08:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Perhaps the note about ::class expansion during compile time is not entirely clear. Here's an example to demonstrate what happens when using ::class on non-existent classes:<br />
<span class="default">&lt;?php<br />
<br />
var_dump</span><span class="keyword">(</span><span class="default">ExampleAbc</span><span class="keyword">::class);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">NS</span><span class="keyword">\</span><span class="default">Service</span><span class="keyword">\</span><span class="default">ExampleAbc</span><span class="keyword">::class);<br />
<br />
</span><span class="comment">// Outputs:<br />
// string(10) "ExampleAbc"<br />
// string(21) "NS\Service\ExampleAbc"<br />
// No error is issued.<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120909""></a>
  <div class="note">
   <strong class="user">kStarbe at gmail point com</strong>
   <a href="#120909" class="date">31-Mar-2017 04:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You start using :: in second example although the static concept has not been explained. This is not easy to discover when you are starting from the basics.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120595""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#120595" class="date">05-Feb-2017 06:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Understanding what does $this exactly do:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">toop </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$i </span><span class="keyword">= </span><span class="string">"1234"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">setv</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">i </span><span class="keyword">= </span><span class="default">$a</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">returnthis</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">$ob </span><span class="keyword">= new </span><span class="default">toop</span><span class="keyword">();<br />
</span><span class="default">$ob1 </span><span class="keyword">= new </span><span class="default">toop</span><span class="keyword">();<br />
</span><span class="default">$obthis </span><span class="keyword">= </span><span class="default">$ob</span><span class="keyword">-&gt;</span><span class="default">returnthis</span><span class="keyword">();<br />
echo </span><span class="default">$ob</span><span class="keyword">-&gt;</span><span class="default">i</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">$ob</span><span class="keyword">-&gt;</span><span class="default">setv</span><span class="keyword">(</span><span class="string">"\$ob set"</span><span class="keyword">);<br />
echo </span><span class="default">$ob</span><span class="keyword">-&gt;</span><span class="default">i</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">$obthis</span><span class="keyword">-&gt;</span><span class="default">setv</span><span class="keyword">(</span><span class="string">"\$obthis set"</span><span class="keyword">);<br />
echo </span><span class="default">$ob</span><span class="keyword">-&gt;</span><span class="default">i</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">$ob1</span><span class="keyword">-&gt;</span><span class="default">setv</span><span class="keyword">(</span><span class="string">'$ob1 set'</span><span class="keyword">);<br />
echo </span><span class="default">$ob</span><span class="keyword">-&gt;</span><span class="default">i</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
This will output:<br />
<br />
1234<br />
$ob set<br />
$obthis set<br />
$obthis set</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106262""></a>
  <div class="note">
   <strong class="user">Manish Gupta</strong>
   <a href="#106262" class="date">23-Oct-2011 07:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Some thing that may be obvious to the seasoned PHP programmer, but may surprise someone coming over from C++:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Foo<br />
</span><span class="keyword">{<br />
</span><span class="default">$bar </span><span class="keyword">= </span><span class="string">'Hi There'</span><span class="keyword">;<br />
<br />
public function Print(){<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$bar</span><span class="keyword">;<br />
}<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Gives an error saying Print used undefined variable. One has to explicitly use (notice the use of <span class="default">&lt;?php $this</span><span class="keyword">-&gt;</span><span class="default">bar ?&gt;</span>):<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Foo<br />
</span><span class="keyword">{<br />
</span><span class="default">$bar </span><span class="keyword">= </span><span class="string">'Hi There'</span><span class="keyword">;<br />
<br />
public function Print(){<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">this</span><span class="keyword">-&gt;</span><span class="default">$bar</span><span class="keyword">;<br />
}<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
&nbsp;<span class="default">&lt;?php </span><span class="keyword">echo </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">; </span><span class="default">?&gt;</span> refers to the class member, while using $bar means using an uninitialized variable in the local context of the member function.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102275""></a>
  <div class="note">
   <strong class="user">Marcus</strong>
   <a href="#102275" class="date">05-Feb-2011 08:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's another simple example.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// PHP 5<br />
<br />
// class definition<br />
</span><span class="keyword">class </span><span class="default">Bear </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// define properties<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public </span><span class="default">$name</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$weight</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$age</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$sex</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$colour</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// constructor<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">__construct</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">age </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">weight </span><span class="keyword">= </span><span class="default">100</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// define methods<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">eat</span><span class="keyword">(</span><span class="default">$units</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">name</span><span class="keyword">.</span><span class="string">" is eating "</span><span class="keyword">.</span><span class="default">$units</span><span class="keyword">.</span><span class="string">" units of food... "</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">weight </span><span class="keyword">+= </span><span class="default">$units</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">run</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">name</span><span class="keyword">.</span><span class="string">" is running... "</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">kill</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">name</span><span class="keyword">.</span><span class="string">" is killing prey... "</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">sleep</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">name</span><span class="keyword">.</span><span class="string">" is sleeping... "</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="comment">// extended class definition<br />
</span><span class="keyword">class </span><span class="default">PolarBear </span><span class="keyword">extends </span><span class="default">Bear </span><span class="keyword">{<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// constructor<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">__construct</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">__construct</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">colour </span><span class="keyword">= </span><span class="string">"white"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">weight </span><span class="keyword">= </span><span class="default">600</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// define methods<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">swim</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">name</span><span class="keyword">.</span><span class="string">" is swimming... "</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100314""></a>
  <div class="note">
   <strong class="user">Doug</strong>
   <a href="#100314" class="date">07-Oct-2010 04:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
What is the difference between&nbsp; $this&nbsp; and&nbsp; self ?<br />
<br />
Inside a class definition, $this refers to the current object, while&nbsp; self&nbsp; refers to the current class.<br />
<br />
It is necessary to refer to a class element using&nbsp; self ,<br />
and refer to an object element using&nbsp; $this .<br />
Note also how an object variable must be preceded by a keyword in its definition.<br />
<br />
The following example illustrates a few cases:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Classy </span><span class="keyword">{<br />
<br />
const&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">STAT </span><span class="keyword">= </span><span class="string">'S' </span><span class="keyword">; </span><span class="comment">// no dollar sign for constants (they are always static)<br />
</span><span class="keyword">static&nbsp; &nbsp;&nbsp; </span><span class="default">$stat </span><span class="keyword">= </span><span class="string">'Static' </span><span class="keyword">;<br />
public&nbsp; &nbsp;&nbsp; </span><span class="default">$publ </span><span class="keyword">= </span><span class="string">'Public' </span><span class="keyword">;<br />
private&nbsp; &nbsp; </span><span class="default">$priv </span><span class="keyword">= </span><span class="string">'Private' </span><span class="keyword">;<br />
protected&nbsp; </span><span class="default">$prot </span><span class="keyword">= </span><span class="string">'Protected' </span><span class="keyword">;<br />
<br />
function </span><span class="default">__construct</span><span class="keyword">( ){&nbsp; }<br />
<br />
public function </span><span class="default">showMe</span><span class="keyword">( ){<br />
&nbsp;&nbsp;&nbsp; print </span><span class="string">'&lt;br&gt; self::STAT: '&nbsp; </span><span class="keyword">.&nbsp; </span><span class="default">self</span><span class="keyword">::</span><span class="default">STAT </span><span class="keyword">; </span><span class="comment">// refer to a (static) constant like this<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">print </span><span class="string">'&lt;br&gt; self::$stat: ' </span><span class="keyword">. </span><span class="default">self</span><span class="keyword">::</span><span class="default">$stat </span><span class="keyword">; </span><span class="comment">// static variable<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">print </span><span class="string">'&lt;br&gt;$this-&gt;stat: '&nbsp; </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">stat </span><span class="keyword">; </span><span class="comment">// legal, but not what you might think: empty result<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">print </span><span class="string">'&lt;br&gt;$this-&gt;publ: '&nbsp; </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">publ </span><span class="keyword">; </span><span class="comment">// refer to an object variable like this<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">print </span><span class="string">'&lt;br&gt;' </span><span class="keyword">;<br />
}<br />
}<br />
</span><span class="default">$me </span><span class="keyword">= new </span><span class="default">Classy</span><span class="keyword">( ) ;<br />
</span><span class="default">$me</span><span class="keyword">-&gt;</span><span class="default">showMe</span><span class="keyword">( ) ;<br />
<br />
</span><span class="comment">/* Produces this output:<br />
self::STAT: S<br />
self::$stat: Static<br />
$this-&gt;stat:<br />
$this-&gt;publ: Public<br />
*/<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92958""></a>
  <div class="note">
   <strong class="user">moty66 at gmail dot com</strong>
   <a href="#92958" class="date">16-Aug-2009 04:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I hope that this will help to understand how to work with static variables inside a class<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">a </span><span class="keyword">{<br />
<br />
&nbsp;&nbsp;&nbsp; public static </span><span class="default">$foo </span><span class="keyword">= </span><span class="string">'I am foo'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$bar </span><span class="keyword">= </span><span class="string">'I am bar'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public static function </span><span class="default">getFoo</span><span class="keyword">() { echo </span><span class="default">self</span><span class="keyword">::</span><span class="default">$foo</span><span class="keyword">;&nbsp; &nbsp; }<br />
&nbsp;&nbsp;&nbsp; public static function </span><span class="default">setFoo</span><span class="keyword">() { </span><span class="default">self</span><span class="keyword">::</span><span class="default">$foo </span><span class="keyword">= </span><span class="string">'I am a new foo'</span><span class="keyword">; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">getBar</span><span class="keyword">() { echo </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">;&nbsp; &nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
}<br />
<br />
</span><span class="default">$ob </span><span class="keyword">= new </span><span class="default">a</span><span class="keyword">();<br />
</span><span class="default">a</span><span class="keyword">::</span><span class="default">getFoo</span><span class="keyword">();&nbsp; &nbsp;&nbsp; </span><span class="comment">// output: I am foo&nbsp; &nbsp; <br />
</span><span class="default">$ob</span><span class="keyword">-&gt;</span><span class="default">getFoo</span><span class="keyword">();&nbsp; &nbsp; </span><span class="comment">// output: I am foo<br />
//a::getBar();&nbsp; &nbsp;&nbsp; // fatal error: using $this not in object context<br />
</span><span class="default">$ob</span><span class="keyword">-&gt;</span><span class="default">getBar</span><span class="keyword">();&nbsp; &nbsp; </span><span class="comment">// output: I am bar<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // If you keep $bar non static this will work<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // but if bar was static, then var_dump($this-&gt;bar) will output null <br />
<br />
// unset($ob);<br />
</span><span class="default">a</span><span class="keyword">::</span><span class="default">setFoo</span><span class="keyword">();&nbsp; &nbsp; </span><span class="comment">// The same effect as if you called $ob-&gt;setFoo(); because $foo is static<br />
</span><span class="default">$ob </span><span class="keyword">= new </span><span class="default">a</span><span class="keyword">();&nbsp; &nbsp;&nbsp; </span><span class="comment">// This will have no effects on $foo<br />
</span><span class="default">$ob</span><span class="keyword">-&gt;</span><span class="default">getFoo</span><span class="keyword">();&nbsp; &nbsp; </span><span class="comment">// output: I am a new foo <br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Regards<br />
Motaz Abuthiab</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92204""></a>
  <div class="note">
   <strong class="user">the_french_cow at hotmail dot com</strong>
   <a href="#92204" class="date">14-Jul-2009 03:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For those of us who are new to inheritance, private functions are not visible in an inherited class. Consider: <br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">class </span><span class="default">A </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; protected function </span><span class="default">func1</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo(</span><span class="string">"I'm func1 in A!&lt;br/&gt;"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; private function </span><span class="default">func2</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo(</span><span class="string">"I'm func2 in A!&lt;br/&gt;"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">A </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">func3</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo(</span><span class="string">"I'm func3 in B!&lt;br/&gt;"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">func1</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">func2</span><span class="keyword">();&nbsp; </span><span class="comment">// Call to private function from extended class results in a fatal error<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$b </span><span class="keyword">= new </span><span class="default">B</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$b</span><span class="keyword">-&gt;</span><span class="default">func3</span><span class="keyword">();&nbsp; </span><span class="comment">// Ends in a fatal error<br />
<br />
// OR<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$b</span><span class="keyword">-&gt;</span><span class="default">func1</span><span class="keyword">();&nbsp; </span><span class="comment">// Call to protected function from outside world results in a fatal error<br />
</span><span class="default">?&gt;<br />
</span><br />
If you want a function to be accessible in class B but not to the outside world, it must be declared as protected.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92123""></a>
  <div class="note">
   <strong class="user">Notes on stdClass</strong>
   <a href="#92123" class="date">10-Jul-2009 12:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
stdClass is the default PHP object. stdClass has no properties, methods or parent. It does not support magic methods, and implements no interfaces.<br />
<br />
When you cast a scalar or array as Object, you get an instance of stdClass. You can use stdClass whenever you need a generic object instance.<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// ways of creating stdClass instances<br />
</span><span class="default">$x </span><span class="keyword">= new </span><span class="default">stdClass</span><span class="keyword">;<br />
</span><span class="default">$y </span><span class="keyword">= (object) </span><span class="default">null</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// same as above<br />
</span><span class="default">$z </span><span class="keyword">= (object) </span><span class="string">'a'</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// creates property 'scalar' = 'a'<br />
</span><span class="default">$a </span><span class="keyword">= (object) array(</span><span class="string">'property1' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">'property2' </span><span class="keyword">=&gt; </span><span class="string">'b'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
stdClass is NOT a base class! PHP classes do not automatically inherit from any class. All classes are standalone, unless they explicitly extend another class. PHP differs from many object-oriented languages in this respect.<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// CTest does not derive from stdClass<br />
</span><span class="keyword">class </span><span class="default">CTest </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$property1</span><span class="keyword">;<br />
}<br />
</span><span class="default">$t </span><span class="keyword">= new </span><span class="default">CTest</span><span class="keyword">;<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$t </span><span class="keyword">instanceof </span><span class="default">stdClass</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// false<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">is_subclass_of</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">'stdClass'</span><span class="keyword">));&nbsp; &nbsp; </span><span class="comment">// false<br />
</span><span class="keyword">echo </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// 'CTest'<br />
</span><span class="keyword">echo </span><span class="default">get_parent_class</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// false (no parent)<br />
</span><span class="default">?&gt;<br />
</span><br />
You cannot define a class named 'stdClass' in your code. That name is already used by the system. You can define a class named 'Object'.<br />
<br />
You could define a class that extends stdClass, but you would get no benefit, as stdClass does nothing.<br />
<br />
(tested on PHP 5.2.8)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86235""></a>
  <div class="note">
   <strong class="user">Jeffrey</strong>
   <a href="#86235" class="date">09-Oct-2008 12:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A PHP Class can be used for several things, but at the most basic level, you'll use classes to "organize and deal with like-minded data". Here's what I mean by "organizing like-minded data". First, start with unorganized data.<br />
<br />
<span class="default">&lt;?php<br />
$customer_name</span><span class="keyword">;<br />
</span><span class="default">$item_name</span><span class="keyword">;<br />
</span><span class="default">$item_price</span><span class="keyword">;<br />
</span><span class="default">$customer_address</span><span class="keyword">;<br />
</span><span class="default">$item_qty</span><span class="keyword">;<br />
</span><span class="default">$item_total</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Now to organize the data into PHP classes:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Customer </span><span class="keyword">{<br />
&nbsp; </span><span class="default">$name</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// same as $customer_name<br />
&nbsp; </span><span class="default">$address</span><span class="keyword">;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// same as $customer_address<br />
</span><span class="keyword">}<br />
<br />
class </span><span class="default">Item </span><span class="keyword">{<br />
&nbsp; </span><span class="default">$name</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// same as $item_name<br />
&nbsp; </span><span class="default">$price</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// same as $item_price<br />
&nbsp; </span><span class="default">$qty</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// same as $item_qty<br />
&nbsp; </span><span class="default">$total</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// same as $item_total<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;<br />
</span><br />
Now here's what I mean by "dealing" with the data. Note: The data is already organized, so that in itself makes writing new functions extremely easy.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Customer </span><span class="keyword">{<br />
&nbsp; public </span><span class="default">$name</span><span class="keyword">, </span><span class="default">$address</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// the data for this class...<br />
<br />
&nbsp; // function to deal with user-input / validation<br />
&nbsp; // function to build string for output<br />
&nbsp; // function to write -&gt; database<br />
&nbsp; // function to&nbsp; read &lt;- database<br />
&nbsp; // etc, etc<br />
</span><span class="keyword">}<br />
<br />
class </span><span class="default">Item </span><span class="keyword">{<br />
&nbsp; public </span><span class="default">$name</span><span class="keyword">, </span><span class="default">$price</span><span class="keyword">, </span><span class="default">$qty</span><span class="keyword">, </span><span class="default">$total</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// the data for this class...<br />
<br />
&nbsp; // function to calculate total<br />
&nbsp; // function to format numbers<br />
&nbsp; // function to deal with user-input / validation<br />
&nbsp; // function to build string for output<br />
&nbsp; // function to write -&gt; database<br />
&nbsp; // function to&nbsp; read &lt;- database<br />
&nbsp; // etc, etc<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;<br />
</span><br />
Imagination that each function you write only calls the bits of data in that class. Some functions may access all the data, while other functions may only access one piece of data. If each function revolves around the data inside, then you have created a good class.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85220""></a>
  <div class="note">
   <strong class="user">wbcarts at juno dot com</strong>
   <a href="#85220" class="date">21-Aug-2008 03:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
CLASSES and OBJECTS that represent the "Ideal World"<br />
<br />
Wouldn't it be great to get the lawn mowed by saying $son-&gt;mowLawn()? Assuming the function mowLawn() is defined, and you have a son that doesn't throw errors, the lawn will be mowed. <br />
<br />
In the following example; let objects of type Line3D measure their own length in 3-dimensional space. Why should I or PHP have to provide another method from outside this class to calculate length, when the class itself holds all the neccessary data and has the education to make the calculation for itself?<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/*<br />
&nbsp;* Point3D.php<br />
&nbsp;*<br />
&nbsp;* Represents one locaton or position in 3-dimensional space<br />
&nbsp;* using an (x, y, z) coordinate system.<br />
&nbsp;*/<br />
</span><span class="keyword">class </span><span class="default">Point3D<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$x</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$y</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$z</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// the x coordinate of this Point.<br />
<br />
&nbsp;&nbsp;&nbsp; /*<br />
&nbsp;&nbsp; &nbsp; * use the x and y variables inherited from Point.php.<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$xCoord</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">, </span><span class="default">$yCoord</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">, </span><span class="default">$zCoord</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">x </span><span class="keyword">= </span><span class="default">$xCoord</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">y </span><span class="keyword">= </span><span class="default">$yCoord</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">z </span><span class="keyword">= </span><span class="default">$zCoord</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/*<br />
&nbsp;&nbsp; &nbsp; * the (String) representation of this Point as "Point3D(x, y, z)".<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">__toString</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">'Point3D(x=' </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">x </span><span class="keyword">. </span><span class="string">', y=' </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">y </span><span class="keyword">. </span><span class="string">', z=' </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">z </span><span class="keyword">. </span><span class="string">')'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="comment">/*<br />
&nbsp;* Line3D.php<br />
&nbsp;*<br />
&nbsp;* Represents one Line in 3-dimensional space using two Point3D objects.<br />
&nbsp;*/<br />
</span><span class="keyword">class </span><span class="default">Line3D<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$start</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$end</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$xCoord1</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">, </span><span class="default">$yCoord1</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">, </span><span class="default">$zCoord1</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">, </span><span class="default">$xCoord2</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">, </span><span class="default">$yCoord2</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">, </span><span class="default">$zCoord2</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">start </span><span class="keyword">= new </span><span class="default">Point3D</span><span class="keyword">(</span><span class="default">$xCoord1</span><span class="keyword">, </span><span class="default">$yCoord1</span><span class="keyword">, </span><span class="default">$zCoord1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">end </span><span class="keyword">= new </span><span class="default">Point3D</span><span class="keyword">(</span><span class="default">$xCoord2</span><span class="keyword">, </span><span class="default">$yCoord2</span><span class="keyword">, </span><span class="default">$zCoord2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/*<br />
&nbsp;&nbsp; &nbsp; * calculate the length of this Line in 3-dimensional space.<br />
&nbsp;&nbsp; &nbsp; */ <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">getLength</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">sqrt</span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">pow</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">start</span><span class="keyword">-&gt;</span><span class="default">x </span><span class="keyword">- </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">end</span><span class="keyword">-&gt;</span><span class="default">x</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">) +<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">pow</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">start</span><span class="keyword">-&gt;</span><span class="default">y </span><span class="keyword">- </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">end</span><span class="keyword">-&gt;</span><span class="default">y</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">) +<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">pow</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">start</span><span class="keyword">-&gt;</span><span class="default">z </span><span class="keyword">- </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">end</span><span class="keyword">-&gt;</span><span class="default">z</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; );<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/*<br />
&nbsp;&nbsp; &nbsp; * The (String) representation of this Line as "Line3D[start, end, length]".<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">__toString</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">'Line3D[start=' </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">start </span><span class="keyword">.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">', end=' </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">end </span><span class="keyword">.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">', length=' </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">getLength</span><span class="keyword">() . </span><span class="string">']'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="comment">/*<br />
&nbsp;* create and display objects of type Line3D.<br />
&nbsp;*/<br />
</span><span class="keyword">echo </span><span class="string">'&lt;p&gt;' </span><span class="keyword">. (new </span><span class="default">Line3D</span><span class="keyword">()) . </span><span class="string">"&lt;/p&gt;\n"</span><span class="keyword">;<br />
echo </span><span class="string">'&lt;p&gt;' </span><span class="keyword">. (new </span><span class="default">Line3D</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">100</span><span class="keyword">, </span><span class="default">100</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">)) . </span><span class="string">"&lt;/p&gt;\n"</span><span class="keyword">;<br />
echo </span><span class="string">'&lt;p&gt;' </span><span class="keyword">. (new </span><span class="default">Line3D</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">100</span><span class="keyword">, </span><span class="default">100</span><span class="keyword">, </span><span class="default">100</span><span class="keyword">)) . </span><span class="string">"&lt;/p&gt;\n"</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
&nbsp; &lt;--&nbsp; The results look like this&nbsp; --&gt;<br />
<br />
Line3D[start=Point3D(x=0, y=0, z=0), end=Point3D(x=1, y=1, z=1), length=1.73205080757]<br />
<br />
Line3D[start=Point3D(x=0, y=0, z=0), end=Point3D(x=100, y=100, z=0), length=141.421356237]<br />
<br />
Line3D[start=Point3D(x=0, y=0, z=0), end=Point3D(x=100, y=100, z=100), length=173.205080757]<br />
<br />
My absolute favorite thing about OOP is that "good" objects keep themselves in check. I mean really, it's the exact same thing in reality... like, if you hire a plumber to fix your kitchen sink, wouldn't you expect him to figure out the best plan of attack? Wouldn't he dislike the fact that you want to control the whole job? Wouldn't you expect him to not give you additional problems? And for god's sake, it is too much to ask that he cleans up before he leaves?<br />
<br />
I say, design your classes well, so they can do their jobs uninterrupted... who like bad news? And, if your classes and objects are well defined, educated, and have all the necessary data to work on (like the examples above do), you won't have to micro-manage the whole program from outside of the class. In other words... create an object, and LET IT RIP!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82652""></a>
  <div class="note">
   <strong class="user">info at youwanttoremovethisvakantiebaas dot nl</strong>
   <a href="#82652" class="date">21-Apr-2008 12:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you do this<br />
<span class="default">&lt;?php<br />
<br />
$x </span><span class="keyword">= new </span><span class="default">b</span><span class="keyword">();<br />
<br />
class </span><span class="default">b </span><span class="keyword">extends </span><span class="default">a </span><span class="keyword">{}<br />
<br />
class </span><span class="default">a </span><span class="keyword">{ }<br />
<br />
</span><span class="default">?&gt;<br />
</span>PHP will tell you "class b not found", because you've defined class b before a. However, the error tells you something different.... Got me a little confused :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79856""></a>
  <div class="note">
   <strong class="user">aaron at thatone dot com</strong>
   <a href="#79856" class="date">16-Dec-2007 03:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was confused at first about object assignment, because it's not quite the same as normal assignment or assignment by reference. But I think I've figured out what's going on.<br />
<br />
First, think of variables in PHP as data slots. Each one is a name that points to a data slot that can hold a value that is one of the basic data types: a number, a string, a boolean, etc. When you create a reference, you are making a second name that points at the same data slot. When you assign one variable to another, you are copying the contents of one data slot to another data slot.<br />
<br />
Now, the trick is that object instances are not like the basic data types. They cannot be held in the data slots directly. Instead, an object's "handle" goes in the data slot. This is an identifier that points at one particular instance of an obect. So, the object handle, although not directly visible to the programmer, is one of the basic datatypes. <br />
<br />
What makes this tricky is that when you take a variable which holds an object handle, and you assign it to another variable, that other variable gets a copy of the same object handle. This means that both variables can change the state of the same object instance. But they are not references, so if one of the variables is assigned a new value, it does not affect the other variable.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// Assignment of an object<br />
</span><span class="keyword">Class </span><span class="default">Object</span><span class="keyword">{<br />
&nbsp;&nbsp; public </span><span class="default">$foo</span><span class="keyword">=</span><span class="string">"bar"</span><span class="keyword">;<br />
};<br />
<br />
</span><span class="default">$objectVar </span><span class="keyword">= new </span><span class="default">Object</span><span class="keyword">();<br />
</span><span class="default">$reference </span><span class="keyword">=&amp; </span><span class="default">$objectVar</span><span class="keyword">;<br />
</span><span class="default">$assignment </span><span class="keyword">= </span><span class="default">$objectVar<br />
<br />
</span><span class="comment">//<br />
// $objectVar ---&gt;+---------+<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |(handle1)----+<br />
// $reference ---&gt;+---------+&nbsp;&nbsp; |<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; +---------+&nbsp;&nbsp; |<br />
// $assignment --&gt;|(handle1)----+<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; +---------+&nbsp;&nbsp; |<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; v<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Object(1):foo="bar"<br />
//<br />
</span><span class="default">?&gt;<br />
</span><br />
$assignment has a different data slot from $objectVar, but its data slot holds a handle to the same object. This makes it behave in some ways like a reference. If you use the variable $objectVar to change the state of the Object instance, those changes also show up under $assignment, because it is pointing at that same Object instance.<br />
<br />
<span class="default">&lt;?php<br />
$objectVar</span><span class="keyword">-&gt;</span><span class="default">foo </span><span class="keyword">= </span><span class="string">"qux"</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">( </span><span class="default">$objectVar </span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">( </span><span class="default">$reference </span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">( </span><span class="default">$assignment </span><span class="keyword">);<br />
<br />
</span><span class="comment">//<br />
// $objectVar ---&gt;+---------+<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |(handle1)----+<br />
// $reference ---&gt;+---------+&nbsp;&nbsp; |<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; +---------+&nbsp;&nbsp; |<br />
// $assignment --&gt;|(handle1)----+<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; +---------+&nbsp;&nbsp; |<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; v<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Object(1):foo="qux"<br />
//<br />
</span><span class="default">?&gt;<br />
</span><br />
But it is not exactly the same as a reference. If you null out $objectVar, you replace the handle in its data slot with NULL. This means that $reference, which points at the same data slot, will also be NULL. But $assignment, which is a different data slot, will still hold its copy of the handle to the Object instance, so it will not be NULL.<br />
<br />
<span class="default">&lt;?php<br />
$objectVar </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$objectVar</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$reference</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$assignment</span><span class="keyword">);<br />
<br />
</span><span class="comment">//<br />
// $objectVar ---&gt;+---------+<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; NULL&nbsp;&nbsp; | <br />
// $reference ---&gt;+---------+<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; +---------+<br />
// $assignment --&gt;|(handle1)----+<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; +---------+&nbsp;&nbsp; |<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; v<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Object(1):foo="qux"<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="oop5.intro.html">はじめに</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.oop5.properties.html">プロパティ</a></div>
 <div class="up"><a href="language.oop5.html">クラスとオブジェクト</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
