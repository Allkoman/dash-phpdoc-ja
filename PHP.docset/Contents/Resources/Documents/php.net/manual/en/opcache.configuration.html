<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>実行時設定</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="opcache.installation.html">インストール手順</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="opcache.resources.html">リソース型</a></div>
 <div class="up"><a href="opcache.setup.html">インストール/設定</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="opcache.configuration" class="sect1">
 <h2 class="title">実行時設定</h2>
 <p class="simpara">
<var class="filename">php.ini</var> の設定により動作が変化します。
</p>
 <p class="para">
  <table class="doctable table">
   <caption><strong>OPcache 設定オプション</strong></caption>
   
    <thead>
     <tr>
      <th>名前</th>
      <th>デフォルト</th>
      <th>変更可能</th>
      <th>変更履歴</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.enable" class="link">opcache.enable</a></td>
      <td>&quot;1&quot;</td>
      <td>PHP_INI_ALL</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.enable-cli" class="link">opcache.enable_cli</a></td>
      <td>&quot;0&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.memory-consumption" class="link">opcache.memory_consumption</a></td>
      <td>&quot;64&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.interned-strings-buffer" class="link">opcache.interned_strings_buffer</a></td>
      <td>&quot;4&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.max-accelerated-files" class="link">opcache.max_accelerated_files</a></td>
      <td>&quot;2000&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.max-wasted-percentage" class="link">opcache.max_wasted_percentage</a></td>
      <td>&quot;5&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.use-cwd" class="link">opcache.use_cwd</a></td>
      <td>&quot;1&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.validate-timestamps" class="link">opcache.validate_timestamps</a></td>
      <td>&quot;1&quot;</td>
      <td>PHP_INI_ALL</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.revalidate-freq" class="link">opcache.revalidate_freq</a></td>
      <td>&quot;2&quot;</td>
      <td>PHP_INI_ALL</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.revalidate-path" class="link">opcache.revalidate_path</a></td>
      <td>&quot;0&quot;</td>
      <td>PHP_INI_ALL</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.save-comments" class="link">opcache.save_comments</a></td>
      <td>&quot;1&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.load-comments" class="link">opcache.load_comments</a></td>
      <td>&quot;1&quot;</td>
      <td>PHP_INI_ALL</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.fast-shutdown" class="link">opcache.fast_shutdown</a></td>
      <td>&quot;0&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.enable-file-override" class="link">opcache.enable_file_override</a></td>
      <td>&quot;0&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.optimization-level" class="link">opcache.optimization_level</a></td>
      <td>&quot;0xffffffff&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.inherited-hack" class="link">opcache.inherited_hack</a></td>
      <td>&quot;1&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.dups-fix" class="link">opcache.dups_fix</a></td>
      <td>&quot;0&quot;</td>
      <td>PHP_INI_ALL</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.blacklist-filename" class="link">opcache.blacklist_filename</a></td>
      <td>&quot;&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.max-file-size" class="link">opcache.max_file_size</a></td>
      <td>&quot;0&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.consistency-checks" class="link">opcache.consistency_checks</a></td>
      <td>&quot;0&quot;</td>
      <td>PHP_INI_ALL</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.force-restart-timeout" class="link">opcache.force_restart_timeout</a></td>
      <td>&quot;180&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.error-log" class="link">opcache.error_log</a></td>
      <td>&quot;&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.log-verbosity-level" class="link">opcache.log_verbosity_level</a></td>
      <td>&quot;1&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.preferred-memory-model" class="link">opcache.preferred_memory_model</a></td>
      <td>&quot;&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.protect-memory" class="link">opcache.protect_memory</a></td>
      <td>&quot;0&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.mmap-base" class="link">opcache.mmap_base</a></td>
      <td><strong><code>NULL</code></strong></td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.restrict-api" class="link">opcache.restrict_api</a></td>
      <td>&quot;&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.file-cache" class="link">opcache.file_cache</a></td>
      <td>NULL</td>
      <td>PHP_INI_SYSTEM</td>
      <td>PHP 7.0.0 以降で利用可能</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.file-cache-only" class="link">opcache.file_cache_only</a></td>
      <td>&quot;0&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td>PHP 7.0.0 以降で利用可能</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.file-cache-consistency-checks" class="link">opcache.file_cache_consistency_checks</a></td>
      <td>&quot;1&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td>PHP 7.0.0 以降で利用可能</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.file-cache-fallback" class="link">opcache.file_cache_fallback</a></td>
      <td>&quot;1&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td>PHP 7.0.0 以降で利用可能</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.validate-permission" class="link">opcache.validate_permission</a></td>
      <td>&quot;0&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td>PHP 7.0.14 以降で利用可能</td>
     </tr>

     <tr>
      <td><a href="opcache.configuration.html#ini.opcache.validate-root" class="link">opcache.validate_root</a></td>
      <td>&quot;0&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td>PHP 7.0.14 以降で利用可能</td>
     </tr>

    </tbody>
   
  </table>

  PHP_INI_* モードの詳細および定義については
<a href="configuration.changes.modes.html" class="xref">どこで設定を行うのか</a> を参照してください。
 </p>
 
 <p class="para">以下に設定ディレクティブに関する
簡単な説明を示します。</p>
 
 <p class="para">
  <dl>

   
    <dt id="ini.opcache.enable">
     <code class="parameter">opcache.enable</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      オペコード・キャッシュを有効にします。
      無効にした場合、コードは最適化もキャッシュもされません。
      <em>opcache.enable</em> の設定を、実行時に
      <span class="function"><a href="function.ini-set.html" class="function">ini_set()</a></span> で有効化することはできません。
      実行時にできるのは、無効化だけです。スクリプト内で有効化しようとすると、警告が発生します。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.enable-cli">
     <code class="parameter">opcache.enable_cli</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      PHP の CLI 版に対してオペコード・キャッシュを有効にします。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.memory-consumption">
     <code class="parameter">opcache.memory_consumption</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      OPcache によって使用される共有メモリ・ストレージのサイズ。（ MB 単位）
     </p>
    </dd>

   
   
    <dt id="ini.opcache.interned-strings-buffer">
     <code class="parameter">opcache.interned_strings_buffer</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      インターン (intern) された文字列を格納するために使用されるメモリ量。（ MB 単位）
      この設定ディレクティブの値は、PHP 5.3.0 未満では無視されます。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.max-accelerated-files">
     <code class="parameter">opcache.max_accelerated_files</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      OPcache ハッシュテーブルのキー（すなわちスクリプト）の最大数。
      使用される現時点の値は、
      素数の集合 <em>{ 223, 463, 983, 1979, 3907, 7963, 16229, 32531, 65407, 130987 }</em> のうち、
      設定値以上の最初の数値です。
      最小値は 200 です。最大値は、PHP 5.5.6 より前のバージョンでは 100000、PHP 5.5.6 以降では 1000000 となります。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.max-wasted-percentage">
     <code class="parameter">opcache.max_wasted_percentage</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      再起動がスケジュールされるまでに許される、無駄なメモリの最大の割合。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.use-cwd">
     <code class="parameter">opcache.use_cwd</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      有効にすると、OPcache は現行の作業ディレクトリをスクリプト・キーに追加します。
      その方法によって、同じ基底名を持つファイル同士で起こりうる衝突を回避します。
      このディレクティブを無効にするとパフォーマンスが向上しますが、既存のアプリケーションを破壊するかもしれません。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.validate-timestamps">
     <code class="parameter">opcache.validate_timestamps</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      有効にすると、OPcache は、スクリプトが更新されたか
      <a href="opcache.configuration.html#ini.opcache.revalidate-freq" class="link">opcache.revalidate_freq</a> 秒ごとにチェックします。
      このディレクティブが無効な場合、ファイルシステムへの変更を反映するには、
      <span class="function"><a href="function.opcache-reset.html" class="function">opcache_reset()</a></span> または <span class="function"><a href="function.opcache-invalidate.html" class="function">opcache_invalidate()</a></span> 関数を介して、
      または Web サーバを再起動して手動で OPcache をリセットしなければいけません。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.revalidate-freq">
     <code class="parameter">opcache.revalidate_freq</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      更新のためにスクリプトのタイムスタンプをチェックする頻度。（秒単位）
      <em>0</em> にすると、OPcache は、リクエストごとに更新をチェックします。
     </p>
     <p class="para">
      この設定ディレクティブは、
      <a href="opcache.configuration.html#ini.opcache.validate-timestamps" class="link">opcache.validate_timestamps</a> が無効の場合、
       無視されます。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.revalidate-path">
     <code class="parameter">opcache.revalidate_path</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      無効にすると、
      同一の <a href="ini.core.html#ini.include-path" class="link">include_path</a> を使用する、
      キャッシュされた既存のファイルが再利用されます。
      したがって、同じ名前を持つファイルが include_path の他の部分にあると、それは見つかりません。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.save-comments">
     <code class="parameter">opcache.save_comments</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      無効にすると、最適化したコードのサイズを減らすために OPcode キャッシュからすべてのドキュメンテーション・コメントが廃棄されます。
      この設定ディレクティブを無効にすると、注釈のためにコメント・パースに依存するアプリケーションおよびフレームワークを破壊するかもしれません。
      それには、Doctrine、Zend Framework 2 および  PHPUnit が含まれます。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.load-comments">
     <code class="parameter">opcache.load_comments</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      無効にすると、たとえ存在していても、ドキュメンテーション・コメントはオペコード・キャッシュから読み込まれません。
      これは、それらを必要とするアプリケーションでコメントを読み込むためだけに
      <a href="opcache.configuration.html#ini.opcache.save-comments" class="link">opcache.save_comments</a> と一緒に使用できます。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.fast-shutdown">
     <code class="parameter">opcache.fast_shutdown</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      有効にすると、それぞれに割り当てられたブロックを解放しない、高速シャットダウン・シーケンスが使用されます。
      しかし、リクエスト変数のすべてのセットをひとまとめに割当てを解除することは、Zend Engine のメモリ・マネージャに依存します。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.enable-file-override">
     <code class="parameter">opcache.enable_file_override</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      有効にすると、<span class="function"><a href="function.file-exists.html" class="function">file_exists()</a></span>、
      <span class="function"><a href="function.is-file.html" class="function">is_file()</a></span> および <span class="function"><a href="function.is-readable.html" class="function">is_readable()</a></span> が呼ばれた際に、
      ファイルが既にキャッシュ済みかどうかをオペコード・キャッシュからチェックします。
      これは、PHP スクリプトの存在および読み込み可能かをチェックするアプリケーションのパフォーマンスを改善させるかもしれません。
      しかし、<a href="opcache.configuration.html#ini.opcache.validate-timestamps" class="link">opcache.validate_timestamps</a> が無効な場合に、
      陳腐化した結果を返す危険があります。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.optimization-level">
     <code class="parameter">opcache.optimization_level</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      どの最適化パスが実行されるかコントロールするビットマスク。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.inherited-hack">
     <code class="parameter">opcache.inherited_hack</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      PHP 5.3 未満では、OPcache は
      <a href="internals2.opcodes.declare-class.html" class="link">DECLARE_CLASS</a>
      オペコードが継承を使用した場所を保存します。
      ファイルが読み込まれる際に、OPcache は現行の環境を使用して継承クラスをバインドしようとします。
      DECLARE_CLASS オペコードが現行のスクリプトで不要かもしれない時に問題です。
      オペコードが定義されていることをスクリプトが必要とする場合、それは実行できないかもしれません。
     </p>
     <p class="para">
      この設定ディレクティブの値は、PHP 5.3 以降では無視されます。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.dups-fix">
     <code class="parameter">opcache.dups_fix</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      &quot;Cannot redeclare class&quot; （クラスを再宣言できません）というエラーを回避する目的でのみ、このハックを有効にするべきです。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.blacklist-filename">
     <code class="parameter">opcache.blacklist_filename</code>
     <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
    </dt>

    <dd>

     <p class="para">
      OPcache ブラックリスト・ファイルの場所。
      ブラックリスト・ファイルは、高速化すべきではないファイルの名前を 1 行につき 1 つ含むテキストファイルです。
      ワイルドカードが許されます。そして、プレフィックスも提示できます。
      セミコロンで始まる行は、コメントとして無視されます。
     </p>
     <p class="para">
      簡単なブラックリスト・ファイルは、以下の通りかもしれません。
     </p>
     <div class="informalexample">
      <div class="example-contents">
<div class="cdata"><pre>
; 特定のファイルに一致します。
/var/www/broken.php
; x で始まるすべてのファイルに一致するプレフィックス
/var/www/x
; ワイルドカード一致です。
/var/www/*-broken.php
</pre></div>
      </div>

     </div>
    </dd>

   
   
    <dt id="ini.opcache.max-file-size">
     <code class="parameter">opcache.max_file_size</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      キャッシュできるファイル・サイズの最大。（バイト単位）
      これが <em>0</em> の場合、すべてのファイルがキャッシュされます。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.consistency-checks">
     <code class="parameter">opcache.consistency_checks</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      ゼロ以外の場合、OPcache は、リクエスト Ｎ 回毎にキャッシュのチェックサムを検証します。
      N は、この設定ディレクティブの値です。
      パフォーマンスを損なうので、これはデバッグ時のみ有効にすべきです。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.force-restart-timeout">
     <code class="parameter">opcache.force_restart_timeout</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      キャッシュがアクティブではない場合に、スケジュールされた再起動が始まるのを待つ時間の長さ。（秒単位）
      タイムアウトに達すると、OPcache は何か具合が悪いとみなして、リスタートできるようにするためにキャッシュのロックを所持する処理を殺します。
     </p>
     <p class="para">
      <a href="opcache.configuration.html#ini.opcache.log-verbosity-level" class="link">opcache.log_verbosity_level</a> が
      2 以上の場合、警告発生時にエラーログに記録されます。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.error-log">
     <code class="parameter">opcache.error_log</code>
     <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
    </dt>

    <dd>

     <p class="para">
      エラーに対するエラーログ。
      空の文字列は、<em>stderr</em> と同様に扱われ、
      結果として標準エラー（ほとんどの場合、Web サーバーのエラーログです）に送られるログになります。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.log-verbosity-level">
     <code class="parameter">opcache.log_verbosity_level</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      ログ冗長レベルです。
      デフォルトでは、致命的エラー（レベル 0 ）およびエラー（レベル 1 ）だけが記録されます。
      利用できる他のレベルは、警告（レベル 2 ）、情報メッセージ（レベル 3 ）およびデバッグ・メッセージ（レベル 4 ）です。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.preferred-memory-model">
     <code class="parameter">opcache.preferred_memory_model</code>
     <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
    </dt>

    <dd>

     <p class="para">
      OPcache が使用する優先のメモリ・モデル。
      空のままにすると、OPcache は最も適切なモデルを選びます。
      それは実質的にすべての場合に正しいふるまいです。
     </p>
     <p class="para">
      可能な値には、<em>mmap</em>、<em>shm</em>、
      <em>posix</em> および <em>win32</em> があります。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.protect-memory">
     <code class="parameter">opcache.protect_memory</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      スクリプト実行中に予期しない書込みから共有メモリを保護する。
      これは、内部のデバッギングだけに役立ちます。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.mmap-base">
     <code class="parameter">opcache.mmap_base</code>
     <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
    </dt>

    <dd>

     <p class="para">
      Windows 上で共有メモリ・セグメントに使用される基底。
      すべての PHP 処理は、共有メモリを同じアドレス空間にマップしなければいけません。
      このディレクティブを使用すると、&quot;Unable to reattach to base address&quot; （基底アドレスに再アタッチできません） というエラーを修復できます。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.restrict-api">
     <code class="parameter">opcache.restrict_api</code>
     <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
    </dt>

    <dd>

     <p class="para">
      OPcache API 関数の呼び出しを、指定した文字列から始まるパス上の PHP スクリプトからだけに制限します。
      デフォルトは &quot;&quot; で、これは、何も制限しないことを意味します。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.file-cache">
     <code class="parameter">opcache.file_cache</code>
     <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
    </dt>

    <dd>

     <p class="para">
      ファイルベースのセカンドレベル opcode キャッシュを有効にし、そのディレクトリを設定します。
      これは共有メモリ上の opcode キャッシュがいっぱいの時やサーバ再起動時、
      もしくは共有メモリ上の opcode キャッシュをリセットした場合のパフォーマンスを向上させます。
      デフォルトは &quot;&quot; で、これはファイルベースのキャッシュを無効にします。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.file-cache-only">
     <code class="parameter">opcache.file_cache_only</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      共有メモリ内でのオペコード・キャッシュを有効あるいは無効にします。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.file-cache-consistency-checks">
     <code class="parameter">opcache.file_cache_consistency_checks</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      ファイルキャッシュから読み込んだスクリプトのチェックサムの検証を有効あるいは無効にします。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.file-cache-fallback">
     <code class="parameter">opcache.file_cache_fallback</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      共有メモリへの再アタッチに失敗するプロセスについて、
      opcache.file_cache_only=1 であるものとみなします (Windows のみ)。
      ファイルキャッシュを明示的に有効にする必要があります。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.validate-permission">
     <code class="parameter">opcache.validate_permission</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      キャッシュされたファイルのアクセス権限を現在のユーザーに対して検証します。
     </p>
    </dd>

   
   
    <dt id="ini.opcache.validate-root">
     <code class="parameter">opcache.validate_root</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      chroot された環境での名前の衝突を防止します。
      これは、chroot 以外でのファイルへのアクセスを防止するために、
      chroot されたすべての環境で有効にする必要があります。
     </p>
    </dd>

   
  </dl>

 </p>
</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="120544""></a>
  <div class="note">
   <strong class="user">damien at overeem dot org</strong>
   <a href="#120544" class="date">28-Jan-2017 01:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When using PHP on a windows platform and enabling opcache, you might run into occasional 500 errors. These will appear to show up entirely random.<br />
<br />
When this happens, your windows Event log (Windows Logs/Application) will show (probably multiple)&nbsp; entries from Zend OPcache with Event ID 487. Further information will state the following error message: "Base address marks unusable memory region".<br />
<br />
This issue can be resolved by adding the following to your php.ini:<br />
<br />
&nbsp;&nbsp;&nbsp; opcache.mmap_base = 0x20000000<br />
<br />
Unfortunately I do not know the significance of the value "0x20000000". I can only tell you that this value works to solve the problem (Tried and tested)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120464""></a>
  <div class="note">
   <strong class="user">bdurand at ensemblegroup dot net</strong>
   <a href="#120464" class="date">13-Jan-2017 08:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It would appear as though the [opcache.enable] setting is indeed NOT PHP_INI_ALL.<br />
For changing it within user.ini yields no effect when disabled at global level. user.ini is ignored for that setting.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="119647""></a>
  <div class="note">
   <strong class="user">jpokress at gmail dot com</strong>
   <a href="#119647" class="date">26-Jul-2016 02:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Windows PHP 7 users PLEASE NOTE: <br />
<br />
You need to add the following line to your php.ini file in order for opcache to be loaded:<br />
<br />
zend_extension=php_opcache.dll<br />
<br />
This was missing from the stock php.ini file in the distribution I obtained. Credit:<br />
<br />
<a href="http://stackoverflow.com/questions/19495935/php-5-5-opcache-not-working-on-apache" rel="nofollow" target="_blank">http://stackoverflow.com/questions/19495935/php-5-5-opcache-not-working-on-apache</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118338""></a>
  <div class="note">
   <strong class="user">Tizian Schmidlin st at cabag dot ch</strong>
   <a href="#118338" class="date">19-Nov-2015 04:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When running PHP on Windows, you need to be running the Webservice (Apache or IIS) as a local administrator in order to allow PHP to create a shared memory segment. If you run your webservice as anything else, OPCache will simply be disabled.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118310""></a>
  <div class="note">
   <strong class="user">BR</strong>
   <a href="#118310" class="date">14-Nov-2015 10:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
opcache.max_wasted_percentage must have a value between 1 and 50. Otherwise it will automatically set the variable 5 %.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="opcache.installation.html">インストール手順</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="opcache.resources.html">リソース型</a></div>
 <div class="up"><a href="opcache.setup.html">インストール/設定</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
