<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>送信した (もしくは送信される予定の) レスポンスヘッダの一覧を返す</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.header.html">header</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.headers-sent.html">headers_sent</a></div>
 <div class="up"><a href="ref.network.html">ネットワーク 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.headers-list" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">headers_list</h1>
  <p class="verinfo">(PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">headers_list</span> &mdash; <span class="dc-title">送信した (もしくは送信される予定の) レスポンスヘッダの一覧を返す</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.headers-list-description">
  <h3 class="title">説明</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><strong>headers_list</strong></span>
    ( <span class="methodparam">void</span>
   )</div>

  <p class="para rdfs-comment">
   <span class="function"><strong>headers_list()</strong></span>
   はブラウザもしくはクライアントに送信されるヘッダの数値配列を返します。
   これらのヘッダが送信されたかどうかを判断するためには
   <span class="function"><a href="function.headers-sent.html" class="function">headers_sent()</a></span> を使用します。
  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.headers-list-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   ヘッダを、数値添字の配列で返します。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.headers-list-examples">
  <h3 class="title">例</h3>
  <p class="para">
   <div class="example" id="example-5060">
    <p><strong>例1 <span class="function"><strong>headers_list()</strong></span> の使用例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #FF8000">/*&nbsp;setcookie()&nbsp;でレスポンスヘッダをそれ自身に追加します&nbsp;*/<br /></span><span style="color: #0000BB">setcookie</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;独自のレスポンスヘッダを定義します。<br />&nbsp;&nbsp;&nbsp;これはほとんどのクライアントで無視されます&nbsp;*/<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"X-Sample-Test:&nbsp;foo"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;レスポンスがプレーンテキストだと宣言します&nbsp;*/<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-type:&nbsp;text/plain'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;送信しようとしているヘッダは?&nbsp;*/<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">headers_list</span><span style="color: #007700">());<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>上の例の出力は以下となります。</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
array(4) {
  [0]=&gt;
  string(23) &quot;X-Powered-By: PHP/5.1.3&quot;
  [1]=&gt;
  string(19) &quot;Set-Cookie: foo=bar&quot;
  [2]=&gt;
  string(18) &quot;X-Sample-Test: foo&quot;
  [3]=&gt;
  string(24) &quot;Content-type: text/plain&quot;
}

</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.headers-list-notes">
  <h3 class="title">注意</h3>
  <blockquote class="note"><p><strong class="note">注意</strong>: 
   <p class="para">
    ヘッダにアクセスできたりヘッダを出力したりするのは、
    それに対応した SAPI を使っている場合のみです。
   </p>
  </p></blockquote>

 </div>


 <div class="refsect1 seealso" id="refsect1-function.headers-list-seealso">
  <h3 class="title">参考</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.headers-sent.html" class="function" rel="rdfs-seeAlso">headers_sent()</a> - ヘッダが既に送信されているかどうかを調べる</span></li>
    <li class="member"><span class="function"><a href="function.header.html" class="function" rel="rdfs-seeAlso">header()</a> - 生の HTTP ヘッダを送信する</span></li>
    <li class="member"><span class="function"><a href="function.setcookie.html" class="function" rel="rdfs-seeAlso">setcookie()</a> - クッキーを送信する</span></li>
    <li class="member"><span class="function"><a href="function.apache-response-headers.html" class="function" rel="rdfs-seeAlso">apache_response_headers()</a> - HTTPレスポンスヘッダを全て取得する</span></li>
    <li class="member"><span class="function"><a href="function.http-response-code.html" class="function" rel="rdfs-seeAlso">http_response_code()</a> - HTTP レスポンスコードを取得または設定</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="120539""></a>
  <div class="note">
   <strong class="user">arnold at jasny dot net</strong>
   <a href="#120539" class="date">27-Jan-2017 01:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function won't work for when you're running PHP from the command line. If will always return an empty array. This can be an issue when testing your project using PHPUnit or Codeception.<br />
<br />
To solve this, install the xdebug extension and use `xdebug_get_headers` when on the cli.<br />
<br />
<span class="default">&lt;?php<br />
$headers </span><span class="keyword">= </span><span class="default">php_sapi_name</span><span class="keyword">() === </span><span class="string">'cli' </span><span class="keyword">? </span><span class="default">xdebug_get_headers</span><span class="keyword">() : </span><span class="default">headers_list</span><span class="keyword">();<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110330""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#110330" class="date">11-Oct-2012 09:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
note that it does not return the status header<br />
<br />
<span class="default">&lt;?php<br />
<br />
header</span><span class="keyword">(</span><span class="string">'HTTP/1.1 301 Moved Permanently'</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">, </span><span class="default">301</span><span class="keyword">);<br />
<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">'foo: bar'</span><span class="keyword">);<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">'a: b'</span><span class="keyword">);<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">'colon less example'</span><span class="keyword">);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">headers_list</span><span class="keyword">());<br />
</span><span class="default">?&gt;<br />
</span><br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; X-Powered-By: PHP/5.4.7<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; foo: bar<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; a: b<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="109395""></a>
  <div class="note">
   <strong class="user">SOLO2</strong>
   <a href="#109395" class="date">14-Jul-2012 01:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Function to check if a particular header has been added to the list:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">header_sent</span><span class="keyword">(</span><span class="default">$header</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$headers </span><span class="keyword">= </span><span class="default">headers_list</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$header </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$header</span><span class="keyword">,</span><span class="string">': '</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$headers </span><span class="keyword">as </span><span class="default">$hdr</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">stripos</span><span class="keyword">(</span><span class="default">$hdr</span><span class="keyword">, </span><span class="default">$header</span><span class="keyword">) !== </span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.header.html">header</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.headers-sent.html">headers_sent</a></div>
 <div class="up"><a href="ref.network.html">ネットワーク 関数</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
