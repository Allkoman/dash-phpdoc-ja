<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>データベースのデザイン</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="security.database.html">データベースのセキュリティ</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="security.database.connection.html">データベースへの接続</a></div>
 <div class="up"><a href="security.database.html">データベースのセキュリティ</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="security.database.design" class="sect1">
    <h2 class="title">データベースのデザイン</h2>
     <p class="simpara">
      他人が用意した既存のものを使用するのでない限り、最初に行うのはデータベースの作成です。
      データベースが作成されると、そのデータベースのオーナーは作成コマンドを
      実行したユーザーになります。通常、オーナー(とスーパーユーザー)のみが
      そのデータベースに対して操作を行うことが出来ます。他のユーザーがデータベースを
      使用するには適切な権利が与えられている必要があります。
     </p>
     <p class="simpara">
      アプリケーションはデータベースにオーナー、もしくはスーパーユーザーとして接続することは絶対にしてはなりません。
     なぜならこれらのユーザーは
      例えばスキーマの変更(テーブルの削除等)や全コンテンツの削除、といったあらゆるクエリーを実行することが出来るからです。
     </p>
     <p class="simpara">
      貴方が作成するアプリケーションがデータベースに対して行う操作の各方面ごとに、
      操作対象となるオブジェクトに対して、出来る限り少ない権限を持った複数の
      ユーザーを作成した方が良いでしょう。ユーザーに対しては、最低限必要な権限のみを
      与え、関係の無いデータへのアクセスを許可しないようにします。これは、
      万が一侵入者がそのユーザーの権限を以ってデータベースにアクセスした際に、
      アプリケーションと関係の無いデータにまでアクセスされることを防ぐためです。
     </p>
     <p class="simpara">
      全てのビジネスロジックをウェブアプリケーション(つまり貴方のスクリプト)
      で実装することは推奨されません。代わりに、ビュー、トリガー、ルールといった
      データベースの機能を活用した方が良いでしょう。システムが更新され、
      新しい機能がデータベースへのアクセスすることになった場合、個々のデータベース
      クライアントごとに再度同様のロジックを実装しなければならなくなります。
      さらに、トリガーは透過的に、そして自動的にフィールドを扱うことが出来るので、
      デバッグ時や、トランザクションのロールバック時に役立ちます。
     </p>
   </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="119353""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#119353" class="date">20-May-2016 04:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
"You are encouraged not to implement all the business logic in the web application (i.e. your script), instead do it in the database schema using views, triggers or rules. If the system evolves, new ports will be intended to open to the database, and you have to re-implement the logic in each separate database client."<br />
<br />
This doesn't make sense to me. I might be misreading it, but I can't see how this adds to security. It sounds like implementing business logic in the database just increases the amount of work you have to do if you ever want to upgrade or change your SQL database.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="security.database.html">データベースのセキュリティ</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="security.database.connection.html">データベースへの接続</a></div>
 <div class="up"><a href="security.database.html">データベースのセキュリティ</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
