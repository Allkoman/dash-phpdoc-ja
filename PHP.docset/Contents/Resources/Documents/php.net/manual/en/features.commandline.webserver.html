<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>ビルトインウェブサーバー</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="features.commandline.interactive.html">対話シェル</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="features.commandline.ini.html">INI 設定</a></div>
 <div class="up"><a href="features.commandline.html">コマンドラインの使用法</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="features.commandline.webserver" class="section">
  <h2 class="title">ビルトインウェブサーバー</h2>

  <div class="warning"><strong class="warning">警告</strong>
   <p class="para">
    このウェブサーバーは、アプリケーション開発の支援用として設計されたものです。
    テスト用に使ったり、制約のある環境でアプリケーションをデモするために使ったりすることもできるでしょう。
    あらゆる機能を兼ね備えたウェブサーバーを目指したものではないので、
    公開ネットワーク上で使ってはいけません。
   </p>
  </div>

  <p class="para">
   PHP 5.4.0 から、<acronym title="Command Line Interpreter/Interface">CLI</acronym> <acronym title="Server Application Programming Interface">SAPI</acronym> にはウェブサーバーの機能が組み込まれるようになりました。
  </p>

  <p class="para">
   このウェブサーバーは単一のシングルスレッドプロセスしか実行しないので、
   リクエストがブロックされると、PHP アプリケーションはストールします。
  </p>

  <p class="para">
    URI リクエストの処理は、PHP を開始した時点の作業ディレクトリから行われます。
    -t オプションを使えば、ドキュメントルートを明示的に指定することができます。
    URI リクエストにファイルが含まれない場合は、指定したディレクトリにある index.php
    あるいは index.html を返します。どちらも存在しない場合は、
    親ディレクトリにさかのぼって index.php と index.html を探します。
    どちらか一方が見つかるか、あるいはドキュメントルートに達するまでこれが続きます。
    index.php あるいは index.html が見つかるとそれを返し、
    $_SERVER[&#039;PATH_INFO&#039;] が URI の末尾にセットされます。
    見つからなかった場合はレスポンスコード 404 を返します。
  </p>

  <p class="para">
    ウェブサーバーの開始時にコマンドラインで PHP ファイルを指定すると、
    そのファイルをウェブサーバーの &quot;ルーター&quot; スクリプトとして使います。
    このスクリプトは、各 HTTP リクエストの開始時に動きます。このスクリプトが
    <strong><code>FALSE</code></strong> を返すと、リクエストされたリソースをそのままの形式で返します。
    それ以外の場合はスクリプトの出力をブラウザに返します。
  </p>

  <p class="para">
    以下にあげる拡張子のファイルについては、標準の MIME タイプを返します。
    .3gp,
    .apk, .avi, .bmp, .css, .csv, .doc, .docx, .flac, .gif, .gz,
    .gzip, .htm, .html, .ics, .jpe, .jpeg, .jpg, .js, .kml, .kmz,
    .m4a, .mov, .mp3, .mp4, .mpeg, .mpg, .odp, .ods, .odt, .oga, .ogg,
    .ogv, .pdf, .pdf, .png, .pps, .pptx, .qt, .svg, .swf, .tar, .text,
    .tif, .txt, .wav, .webm, .wmv, .xls, .xlsx, .xml, .xsl, .xsd, そして .zip.
  </p>


  <table class="doctable table">
   <caption><strong>Changelog: サポートする MIME タイプ (ファイル拡張子)</strong></caption>
   
    <thead>
     <tr>
      <th>バージョン</th>
      <th>説明</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>5.5.12</td>
      <td>
       .xml, .xsl, および .xsd
      </td>
     </tr>

     <tr>
      <td>5.5.7</td>
      <td>
       .3gp, .apk, .avi, .bmp, .csv, .doc, .docx, .flac, .gz, .gzip,
       .ics, .kml, .kmz, .m4a, .mp3, .mp4, .mpg, .mpeg, .mov, .odp, .ods,
       .odt, .oga, .pdf, .pptx, .pps, .qt, .swf, .tar, .text, .tif, .wav,
       .wmv, .xls, .xlsx, および .zip
      </td>
     </tr>

     <tr>
      <td>5.5.5</td>
      <td>
       .pdf
      </td>
     </tr>

     <tr>
      <td>5.4.11</td>
      <td>
       .ogg, .ogv, および .webm
      </td>
     </tr>

     <tr>
      <td>5.4.4</td>
      <td>
        .htm および .svg
      </td>
     </tr>

    </tbody>
   
  </table>


  <div class="example" id="example-408">
   <p><strong>例1 ウェブサーバーの起動</strong></p> 
   <div class="example-contents">
<div class="shellcode"><pre class="shellcode">$ cd ~/public_html
$ php -S localhost:8000</pre>
</div>
   </div>

   <div class="example-contents"><p>
     ターミナルには次のように表示されます。
   </p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
PHP 5.4.0 Development Server started at Thu Jul 21 10:43:28 2011
Listening on localhost:8000
Document root is /home/me/public_html
Press Ctrl-C to quit
</pre></div>
   </div>
   <div class="example-contents"><p>
     http://localhost:8000/ と
     http://localhost:8000/myscript.html をリクエストした後のターミナルの表示は、
     このようになります。
   </p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
PHP 5.4.0 Development Server started at Thu Jul 21 10:43:28 2011
Listening on localhost:8000
Document root is /home/me/public_html
Press Ctrl-C to quit.
[Thu Jul 21 10:48:48 2011] ::1:39144 GET /favicon.ico - Request read
[Thu Jul 21 10:48:50 2011] ::1:39146 GET / - Request read
[Thu Jul 21 10:48:50 2011] ::1:39147 GET /favicon.ico - Request read
[Thu Jul 21 10:48:52 2011] ::1:39148 GET /myscript.html - Request read
[Thu Jul 21 10:48:52 2011] ::1:39149 GET /favicon.ico - Request read
</pre></div>
   </div>
  </div>

  <div class="example" id="example-409">
   <p><strong>例2 ドキュメントルートディレクトリを指定した起動</strong></p> 
   <div class="example-contents">
<div class="shellcode"><pre class="shellcode">$ cd ~/public_html
$ php -S localhost:8000 -t foo/</pre>
</div>
   </div>

   <div class="example-contents"><p>
     ターミナルには次のように表示されます。
   </p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
PHP 5.4.0 Development Server started at Thu Jul 21 10:50:26 2011
Listening on localhost:8000
Document root is /home/me/public_html/foo
Press Ctrl-C to quit
</pre></div>
   </div>
  </div>

  <div class="example" id="example-410">
   <p><strong>例3 ルータースクリプトの使用</strong></p> 
<div class="example-contents"><p>
  この例では、画像ファイルをリクエストすればそのまま表示し、HTML ファイルをリクエストすると &quot;Welcome to PHP&quot; と表示します。
</p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;router.php<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/\.(?:png|jpg|jpeg|gif)$/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">"REQUEST_URI"</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;リクエストされたリソースをそのままの形式で扱います。<br /></span><span style="color: #007700">}&nbsp;else&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;p&gt;Welcome&nbsp;to&nbsp;PHP&lt;/p&gt;"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents">
<div class="shellcode"><pre class="shellcode">$ php -S localhost:8000 router.php</pre>
</div>
   </div>

  </div>

  <div class="example" id="example-411">
   <p><strong>例4 CLI ウェブサーバーを使っているかどうかのチェック</strong></p> 
<div class="example-contents"><p>
  フレームワークのルータースクリプトを、開発中は CLI ウェブサーバーで使って
  その後は本番環境のウェブサーバーでも使うという例です。
</p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;router.php<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">php_sapi_name</span><span style="color: #007700">()&nbsp;==&nbsp;</span><span style="color: #DD0000">'cli-server'</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;静的コンテンツのルーティングをして&nbsp;false&nbsp;を返します&nbsp;*/<br /></span><span style="color: #007700">}<br /></span><span style="color: #FF8000">/*&nbsp;通常の&nbsp;index.php&nbsp;の処理を続きます&nbsp;*/<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents">
<div class="shellcode"><pre class="shellcode">$ php -S localhost:8000 router.php</pre>
</div>
   </div>

  </div>

  <div class="example" id="example-412">
   <p><strong>例5 未サポートのファイル形式の処理</strong></p> 
<div class="example-contents"><p>
  CLI ウェブサーバーで対応していない MIME タイプの静的リソースを扱うには、このようにします。
</p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;router.php<br /></span><span style="color: #0000BB">$path&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pathinfo</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">"SCRIPT_FILENAME"</span><span style="color: #007700">]);<br />if&nbsp;(</span><span style="color: #0000BB">$path</span><span style="color: #007700">[</span><span style="color: #DD0000">"extension"</span><span style="color: #007700">]&nbsp;==&nbsp;</span><span style="color: #DD0000">"el"</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type:&nbsp;text/x-script.elisp"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">readfile</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">"SCRIPT_FILENAME"</span><span style="color: #007700">]);<br />}<br />else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents">
<div class="shellcode"><pre class="shellcode">$ php -S localhost:8000 router.php</pre>
</div>
   </div>

  </div>

  <div class="example" id="example-413">
   <p><strong>例6 CLI ウェブサーバーへのリモートマシンからのアクセス</strong></p> 
<div class="example-contents"><p>
  ウェブサーバーを、任意のインターフェイスからポート 8000 でアクセスできるようにするには、このようにします。
</p></div>
   <div class="example-contents">
<div class="shellcode"><pre class="shellcode">$ php -S 0.0.0.0:8000</pre>
</div>
   </div>

  </div>

 </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="121501""></a>
  <div class="note">
   <strong class="user">dwingardjr at gmail dot com</strong>
   <a href="#121501" class="date">10-Aug-2017 08:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just a note to people who also use windows 8.1, or anyone who has had this problem when running the using the PHP server CLI.<br />
<br />
`PHP -S localhost:8000 -t /public` &lt;-- Not going to work.<br />
<br />
`PHP -S localhost:8000 -t public` &lt;-- Works!<br />
<br />
And there is something else up in the notes saying something about you can't serve a project folder and a router file. Well, actually you can! At least for me.<br />
<br />
`PHP -S localhost:8000 router.php -t public` &lt;-- Perhaps someone tries this and it doesn't work.<br />
<br />
`PHP -S localhost:8000 -t public router.php` &lt;-- Works!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121287""></a>
  <div class="note">
   <strong class="user">gyunaev at gmail dot com</strong>
   <a href="#121287" class="date">29-Jun-2017 04:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can also print messages to the server's STDOUT via error_log().<br />
<br />
Also the documentation doesn't make it clear that when you use router script if a PHP file is requested and you return false, the PHP file will be served (i.e. you do not need to load and eval it manually).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121137""></a>
  <div class="note">
   <strong class="user">eyecatchup at gmail dot com</strong>
   <a href="#121137" class="date">27-May-2017 04:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note: The built-in web server has a file size limit. For files larger than 5 GB, it will always serve a "File not found" error page.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120449""></a>
  <div class="note">
   <strong class="user">oan at vizrt dot com</strong>
   <a href="#120449" class="date">11-Jan-2017 10:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I painfully experienced behaviour that I can't seem to find documented here so I wanted to save everyone from repeating my mistake by giving the following heads up:<br />
<br />
When starting php -S on a mac (in my case macOS Sierra) to host a local server, I had trouble with connecting from legacy Java. <br />
<br />
As it turned out, if you started the php server with <br />
"php -S localhost:80" <br />
the server will be started with ipv6 support only!<br />
<br />
To access it via ipv4, you need to change the start up command like so:<br />
&nbsp;"php -S 127.0.0.1:80"<br />
which starts server in ipv4 mode only.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120365""></a>
  <div class="note">
   <strong class="user">ohcc at 163 dot com</strong>
   <a href="#120365" class="date">22-Dec-2016 04:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
$_SERVER['SERVER_ADDR'] is not defined when using php as the built-in commandline web server, so you can not use $_SERVER['SERVER_ADDR'] to detect the Server's IP address.<br />
<br />
P.S.: This is tested on Windows with PHP 7.1 on 2016-12-22.<br />
<br />
Below is the printed $_SERVER variable.<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [DOCUMENT_ROOT] =&gt; E:\Programs\PHPServer\www\srv<br />
&nbsp;&nbsp;&nbsp; [REMOTE_ADDR] =&gt; 118.117.61.32<br />
&nbsp;&nbsp;&nbsp; [REMOTE_PORT] =&gt; 10865<br />
&nbsp;&nbsp;&nbsp; [SERVER_SOFTWARE] =&gt; PHP 7.1.0 Development Server<br />
&nbsp;&nbsp;&nbsp; [SERVER_PROTOCOL] =&gt; HTTP/1.1<br />
&nbsp;&nbsp;&nbsp; [SERVER_NAME] =&gt; 0.0.0.0<br />
&nbsp;&nbsp;&nbsp; [SERVER_PORT] =&gt; 8080<br />
&nbsp;&nbsp;&nbsp; [REQUEST_URI] =&gt; /<br />
&nbsp;&nbsp;&nbsp; [REQUEST_METHOD] =&gt; GET<br />
&nbsp;&nbsp;&nbsp; [SCRIPT_NAME] =&gt; /index.php<br />
&nbsp;&nbsp;&nbsp; [SCRIPT_FILENAME] =&gt; E:\Programs\PHPServer\www\srv\index.php<br />
&nbsp;&nbsp;&nbsp; [PHP_SELF] =&gt; /index.php<br />
&nbsp;&nbsp;&nbsp; [HTTP_HOST] =&gt; www.wuxiancheng.cn:8080<br />
&nbsp;&nbsp;&nbsp; [HTTP_CONNECTION] =&gt; keep-alive<br />
&nbsp;&nbsp;&nbsp; [HTTP_CACHE_CONTROL] =&gt; max-age=0<br />
&nbsp;&nbsp;&nbsp; [HTTP_UPGRADE_INSECURE_REQUESTS] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [HTTP_USER_AGENT] =&gt; Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36<br />
&nbsp;&nbsp;&nbsp; [HTTP_ACCEPT] =&gt; text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8<br />
&nbsp;&nbsp;&nbsp; [HTTP_DNT] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [HTTP_ACCEPT_ENCODING] =&gt; gzip, deflate, sdch<br />
&nbsp;&nbsp;&nbsp; [HTTP_ACCEPT_LANGUAGE] =&gt; zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4<br />
&nbsp;&nbsp;&nbsp; [HTTP_COOKIE] =&gt; qbbs_2132_saltkey=fZ7509n5; qbbs_2132_lastvisit=1482156014; Hm_lvt_f812a4362ef73c80c4d13485d1ab3a49=1482159614; _ga=GA1.2.1594404236.1482159615; su=727vL6EEPLqjcyfJcad-za9eVYOh1i7e; Hm_lvt_6a65b0f2004e441e86ecea9c3562d997=1482232509,1482241896,1482242293,1482296586<br />
&nbsp;&nbsp;&nbsp; [REQUEST_TIME_FLOAT] =&gt; 1482390410.65625<br />
&nbsp;&nbsp;&nbsp; [REQUEST_TIME] =&gt; 1482390410<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120058""></a>
  <div class="note">
   <strong class="user">matthes at leuffen dot de</strong>
   <a href="#120058" class="date">18-Oct-2016 10:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To output debugging information on the command line you can write output to php://stdout:<br />
<br />
<span class="default">&lt;?php<br />
$path </span><span class="keyword">= </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">"SCRIPT_FILENAME"</span><span class="keyword">];<br />
<br />
</span><span class="default">file_put_contents</span><span class="keyword">(</span><span class="string">"php://stdout"</span><span class="keyword">, </span><span class="string">"\nRequested: </span><span class="default">$path</span><span class="string">"</span><span class="keyword">);<br />
echo </span><span class="string">"&lt;p&gt;Hello World&lt;/p&gt;"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="119903""></a>
  <div class="note">
   <strong class="user">ohcc at 163 dot com</strong>
   <a href="#119903" class="date">18-Sep-2016 04:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Do NOT use the -t option if you want to use a router script, you can change current working directory to the web document root before launching the php built-in web server.<br />
<br />
[works fine]<br />
<br />
cd /d C:\Web\Server<br />
php -S www.51-n.com:80 router.php -n -d expose_php=0 -d display_errors=0 -d extension_dir="ext"<br />
<br />
[always gets a 500 error]<br />
<br />
php -S www.51-n.com:80 router.php -t C:\Web\Server -n -d expose_php=0 -d display_errors=0 -d extension_dir="ext"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="119706""></a>
  <div class="note">
   <strong class="user">Mark Simon</strong>
   <a href="#119706" class="date">07-Aug-2016 06:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It's not mentioned directly, and may not be obvious, but you can also use this to create a virtual host. This, of course, requires the help of your hosts file.<br />
<br />
Here are the steps:<br />
<br />
1&nbsp; &nbsp; /etc/hosts<br />
&nbsp;&nbsp;&nbsp; 127.0.0.1&nbsp; &nbsp; www.example.com<br />
<br />
2&nbsp; &nbsp; cd [root folder]<br />
&nbsp;&nbsp;&nbsp; php -S www.example.com:8000<br />
<br />
3&nbsp; &nbsp; Browser:<br />
&nbsp;&nbsp;&nbsp; <a href="http://www.example.com:8000/index.php" rel="nofollow" target="_blank">http://www.example.com:8000/index.php</a><br />
<br />
Combined with a simple SQLite database, you have a very handy testing environment.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="119171""></a>
  <div class="note">
   <strong class="user">@salmanapk</strong>
   <a href="#119171" class="date">15-Apr-2016 12:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I improved Ivan Ferrer's phpserver.bat to open the Send To'd files in the browser directly:-<br />
<br />
rem check if arg is file or dir<br />
if exist "%~1\" (<br />
&nbsp; explorer <a href="http://localhost:8888" rel="nofollow" target="_blank">http://localhost:8888</a><br />
&nbsp; php -S localhost:8888 -t "%~1"<br />
) else (<br />
&nbsp; explorer <a href="http://localhost:8888/%~nx1" rel="nofollow" target="_blank">http://localhost:8888/%~nx1</a><br />
&nbsp; php -S localhost:8888 -t "%~dp1"<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118912""></a>
  <div class="note">
   <strong class="user">leandro at leandroleite dot info</strong>
   <a href="#118912" class="date">26-Feb-2016 09:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
when I need to up a server for develop with rewrite, I use it:<br />
<br />
// php -S 0.0.0.0:8080 -file webServer.php<br />
<br />
// webServer.php<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/\.css|\.js|\.jpg|\.png|\.map$/'</span><span class="keyword">, </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'REQUEST_URI'</span><span class="keyword">], </span><span class="default">$match</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$mimeTypes </span><span class="keyword">= [<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'.css' </span><span class="keyword">=&gt; </span><span class="string">'text/css'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'.js'&nbsp; </span><span class="keyword">=&gt; </span><span class="string">'application/javascript'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'.jpg' </span><span class="keyword">=&gt; </span><span class="string">'image/jpg'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'.png' </span><span class="keyword">=&gt; </span><span class="string">'image/png'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'.map' </span><span class="keyword">=&gt; </span><span class="string">'application/json'<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$path </span><span class="keyword">= </span><span class="default">__DIR__ </span><span class="keyword">. </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'REQUEST_URI'</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_file</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">header</span><span class="keyword">(</span><span class="string">"Content-Type: </span><span class="keyword">{</span><span class="default">$mimeTypes</span><span class="keyword">[</span><span class="default">$match</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]]}</span><span class="string">"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; require </span><span class="default">$path</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; exit;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
require_once </span><span class="default">__DIR__</span><span class="keyword">.</span><span class="string">'/../app/bootstrap.php'</span><span class="keyword">;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117854""></a>
  <div class="note">
   <strong class="user">php dot chaska at xoxy dot net</strong>
   <a href="#117854" class="date">21-Aug-2015 12:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that to listen on a naked IPv6 address, you have to strangely enclose the address in so-called square brackets.&nbsp; Example:<br />
<br />
$ php -S [9990:116:a001:1900::1001]:8080 -t web/</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116858""></a>
  <div class="note">
   <strong class="user">simonbengt at gmail dot com</strong>
   <a href="#116858" class="date">11-Mar-2015 07:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
My routing file looks like this: <br />
<br />
if (file_exists($_SERVER["DOCUMENT_ROOT"] . $_SERVER["REQUEST_URI"])) {<br />
&nbsp;&nbsp;&nbsp; return false;<br />
} else {<br />
&nbsp;&nbsp;&nbsp; require "index.php";<br />
}<br />
<br />
The reason is to support all static files.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115907""></a>
  <div class="note">
   <strong class="user">tamas at bartatamas dot hu</strong>
   <a href="#115907" class="date">13-Oct-2014 11:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If your URI contains a dot, you'll lose the $_SERVER['PATH_INFO'] variable, when using the built-in webserver.<br />
I wanted to write an API, and use .json ending in the URI-s, but then the framework's routing mechanism broke, and it took a lot of time to discover that the reason behind it was its router relying on $_SERVER['PATH_INFO'].<br />
<br />
References:<br />
https://bugs.php.net/bug.php?id=61286</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114189""></a>
  <div class="note">
   <strong class="user">jonathan at reinink dot ca</strong>
   <a href="#114189" class="date">23-Jan-2014 12:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In order to set project specific configuration options, simply add a php.ini file to your project, and then run the built-in server with this flag:<br />
<br />
php -S localhost:8000 -c php.ini<br />
<br />
This is especially helpful for settings that cannot be set at runtime (ini_set()).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112667""></a>
  <div class="note">
   <strong class="user">Ivan Ferrer</strong>
   <a href="#112667" class="date">11-Jul-2013 05:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
On Windows you may find useful to have a phpserver.bat file in shell:sendto with the folowing:<br />
explorer <a href="http://localhost:8888" rel="nofollow" target="_blank">http://localhost:8888</a><br />
rem check if arg is file or dir<br />
if exist "%~1\" (<br />
&nbsp; php -S localhost:8888 -t "%~1"<br />
) else (<br />
&nbsp; php -S localhost:8888 -t "%~dp1"<br />
)<br />
<br />
then for fast web testing you only have to SendTo a file or folder to this bat and it will open your explorer and run the server.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="features.commandline.interactive.html">対話シェル</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="features.commandline.ini.html">INI 設定</a></div>
 <div class="up"><a href="features.commandline.html">コマンドラインの使用法</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
